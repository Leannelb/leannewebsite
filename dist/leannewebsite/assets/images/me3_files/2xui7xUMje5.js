if (self.CavalryLogger) { CavalryLogger.start_js(["5jBhm"]); }

__d("UFISearchInput.react",["ix","cx","fbt","AbstractButton.react","AbstractTextInput.react","FlexLayout.react","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.componentDidMount=function(){this.focusInput()};a.prototype.render=function(){return b("React").createElement(b("FlexLayout.react"),{className:"_2pgc",align:"center",direction:"horizontal"},b("React").createElement(b("Image.react"),{className:"_2pgd",src:g("363738")}),b("React").createElement(b("AbstractTextInput.react"),{onChange:this.props.onChange,onClick:this.props.onClick,placeholder:this.props.placeholder,ref:"inputField",value:this.props.value}),b("React").createElement(b("AbstractButton.react"),{labelIsHidden:!0,onClick:this.props.onClear,label:i._("Clear search"),className:(this.props.value.length===0?"hidden_elem":"")+" _2pge",image:b("React").createElement(b("Image.react"),{src:g("393092")})}))};a.prototype.focusInput=function(){this.refs.inputField.focusInput()};function a(){j.apply(this,arguments)}a.propTypes={onChange:c.func,onClear:c.func,onClick:c.func,placeholder:c.node,value:c.string.isRequired};e.exports=a}),null);
__d("MessagesEmoticons.react",["cx","fbt","Grid.react","React","ShimButton.react","emptyFunction"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("Grid.react").GridItem;c=b("React").PropTypes;var k=8,l={smile:h._("smile"),frown:h._("frown"),tongue:h._("tongue"),grin:h._("grin"),gasp:h._("gasp"),wink:h._("wink"),pacman:h._("pacman"),grumpy:h._("grumpy"),unsure:h._("unsure"),cry:h._("cry"),kiki:h._("kiki"),glasses:h._("glasses"),sunglasses:h._("sunglasses"),heart:h._("heart"),devil:h._("devil"),angel:h._("angel"),squint:h._("squint"),confused:h._("confused"),upset:h._("upset"),colonthree:h._("colon three"),like:h._("Like")};i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.getEmoticons=function(){"use strict";return Object.keys(l).map(function(a){return b("React").createElement(j,{key:a},b("React").createElement("div",{className:"panelCell"},b("React").createElement(b("ShimButton.react"),{"aria-label":l[a],className:"emoticon emoticon_"+a,form:"link",onClick:function(){return this.props.onEmoticonSelect(a)}.bind(this)})))}.bind(this))};a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"emoticonsTable"},b("React").createElement(b("Grid.react"),{cols:k,alignv:"middle",alignh:"center",spacing:"pam"},this.getEmoticons()))};function a(){"use strict";i.apply(this,arguments)}a.propTypes={onEmoticonSelect:c.func};a.defaultProps={onEmoticonSelect:b("emptyFunction")};e.exports=a}),null);
__d("ReactAlbumPermalinkComposer.react",["cx","Arbiter","LitestandComposer","React","ReactComposerAttachmentType","ReactComposerAudienceActions","ReactComposerBodyContainer.react","ReactComposerContextProviderMixin","ReactComposerEvents","ReactComposerFeedMediaPostButtonContainer.react","ReactComposerFeedPostButtonContainer.react","ReactComposerFocusInit","ReactComposerLoggingName","ReactComposerMediaEagerAttachment.react","ReactComposerSproutsStatusAndMediaSelector.react","ReactComposerStatusEagerAttachment.react","ReactComposerWithSprouts.react","$"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getChildContext=function(){"use strict";return b("ReactComposerContextProviderMixin").staticGetChildContext(this.props)};a.prototype.componentDidMount=function(){var a,c=this.props,d=c.collectionsID;c=c.contextConfig;b("LitestandComposer").initComposer(c.composerID);b("ReactComposerFocusInit").handler(b("$")("album_react_composer_container"),c.composerID,c.actorID,c.gks,(a=c)!=null?(a=a.jsModules)!=null?a.composerFocus:a:a,!0);b("ReactComposerAudienceActions").setCollectionIDWithoutLogging(c.composerID,d.toString());this.props.focus&&b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+c.composerID)};a.prototype.render=function(){"use strict";var a=b("React").createElement(b("ReactComposerWithSprouts.react"),{defaultAttachmentOnExpand:b("ReactComposerAttachmentType").STATUS,innerProps:{className:"_292i",loggingConfig:this.props.config.loggingConfig,sproutsConfig:this.props.config.sproutsConfig},expandOnInit:!1},this.$1(),b("React").createElement(b("ReactComposerBodyContainer.react"),{expanded:this.props.config.showExpandedComposer},this.$2(),this.$3()));return a};a.prototype.$1=function(){"use strict";var a=this.props.config.attachmentsConfig,c=[];a[b("ReactComposerAttachmentType").STATUS].enabled&&c.push(b("React").createElement(b("ReactComposerSproutsStatusAndMediaSelector.react"),{key:b("ReactComposerLoggingName").STATUS_TAB_SELECTOR,label:a[b("ReactComposerAttachmentType").STATUS].defaultTabTitle,statusOnly:!1}));return b("React").createElement("div",{className:"_3ubp _sg2"},c)};a.prototype.$2=function(){"use strict";if(!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].enabled)return null;var a=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].placeholderText;return b("React").createElement(b("ReactComposerStatusEagerAttachment.react"),{key:"status",config:this.props.config,selected:!0,postButtonModule:b("ReactComposerFeedPostButtonContainer.react"),placeholder:a})};a.prototype.$3=function(){"use strict";return!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA].enabled?null:b("React").createElement(b("ReactComposerMediaEagerAttachment.react"),{key:"media",config:this.props.config,postButtonModule:b("ReactComposerFeedMediaPostButtonContainer.react"),selected:!1})};function a(){"use strict";h.apply(this,arguments)}a.childContextTypes=b("ReactComposerContextProviderMixin").childContextTypes;e.exports=a}),null);
__d("GamesVideoPageCustomStickerPackQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1542640102525549"};c.getQueryID=function(){"use strict";return"235916530286628"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("StickersFlyoutPackSelector.react",["cx","fbt","ix","Animation","Image.react","Link.react","Locale","React","ReactDOM","RelayAPIConfig","RelayClassic_DEPRECATED","RelayCompat","StickerConstants","StickerInterfaces","StickersActions","StickersConfig","StickersStoreController","XUIBadge.react","asset","emptyFunction","getObjectValues","getViewerRecordID","react-relay/classic/mutation/RelayMutation","react-relay/classic/query/RelayQL","react-relay/classic/store/RelayStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=b("RelayCompat").MutationTypes;c=b("React").PropTypes;var m=4,n=200,o=h._("Sticker Store"),p=function(a,c){if(a.id==b("StickerConstants").SEARCH_PACK_ID)return c?i("404874"):i("415283");if(a.id==b("StickerConstants").MRU_STICKER_PACK)return c?i("430464"):i("430471");if(a.id==b("StickerConstants").EMOTICON_PACK_ID)return i("87143");return a.id==b("StickerConstants").OZ_PACK_ID?a.icon:a.thumbnail_image?a.thumbnail_image.uri:null},q=function(a){var c=a.pack,d=b("StickersConfig").search_pack?a.index===1||a.index===2:a.index===1;d="_5r8a"+(a.selected?" _5r8b":"")+(c.id==b("StickerConstants").MRU_STICKER_PACK?" _5qcj":"")+(c.id==b("StickerConstants").SEARCH_PACK_ID?" _5qck":"")+(d?" _eb3":"");var e=a.isComments&&!c.is_comments_capable&&c.id!==b("StickerConstants").MRU_STICKER_PACK&&c.id!==b("StickerConstants").SEARCH_PACK_ID&&c.id!==b("StickerConstants").EMOTICON_PACK_ID,f=h._("This pack is only available in photos"),g=h._("This pack is only available in messages"),i=e?b("emptyFunction"):function(){return a.onClick(c.id)},j=p(c,a.selected);if(j===null)return null;f=!c.is_messenger_capable&&c.is_composer_capable?f:g;return b("React").createElement(b("Link.react"),{"aria-label":e?f:c.name,className:d,"data-hover":"tooltip","data-id":c.id,"data-tooltip-content":e?f:c.name,onClick:i,role:"button",tabIndex:"0"},b("React").createElement(b("Image.react"),{className:(e?"_2ji6":"")+" _5r8c"+(b("StickersConfig").search_pack?" _1viy":""),src:j}))};q.propTypes={index:c.number,isComments:c.bool,onClick:c.func,pack:c.object.isRequired,selected:c.bool};q.defaultProps={isComments:!1,onClick:b("emptyFunction")};d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={animating:!1,page:0},this.$10=function(){this.$8()&&this.$4(this.state.page-1,n)}.bind(this),this.$11=function(){this.$9()&&this.$4(this.state.page+1,n)}.bind(this),this.$12=function(){b("StickersStoreController").showStore(null,this.props.stickerInterface==b("StickerInterfaces").COMPOSER),b("react-relay/classic/store/RelayStore").commitUpdate(new r({actor_id:b("RelayAPIConfig").actorID}),{onSuccess:b("emptyFunction"),onFailure:b("emptyFunction")})}.bind(this),c}a.prototype.componentDidMount=function(){if(this.props.selectedPackID)return;this.$1()};a.prototype.shouldComponentUpdate=function(a,b){return!b.animating};a.prototype.UNSAFE_componentWillReceiveProps=function(a){if(a.selectedPackID)return;this.$1()};a.prototype.onFlyoutShown=function(){if(this.$2().length>0){var a=this.$3(this.props.selectedPackID);this.state.page!==a&&this.$4(a,0)}};a.prototype.$1=function(){var a=this.$2();a.length>0?this.$5(a[0].id):b("StickersActions").trayLoaded()};a.prototype.$2=function(){var a=this.props.packs.sticker_store.tray_packs.edges.map(function(a){return a.node});b("StickersConfig").oz_pack&&a.unshift(b("StickersConfig").oz_pack);b("StickersConfig").mru_stickers_count!==0&&a.unshift(b("StickersConfig").mru_pack);b("StickersConfig").search_pack&&a.unshift(b("StickersConfig").search_pack);return a};a.prototype.$3=function(a){var b=this.$2();for(var c=0;c<b.length;c++)if(b[c].id==a)return c<=m?0:Math.floor((c-1)/m);return 0};a.prototype.$4=function(a,c){if(this.state.animating)return;this.setState({animating:!0,page:a},function(){var d=b("ReactDOM").findDOMNode(this.refs.positioner),e=this.$6(a);new(b("Animation"))(d).to(e.reference,e.offset+"px").ondone(function(){return this.setState({animating:!1})}.bind(this)).duration(c).go()})};a.prototype.$6=function(a){var c=b("ReactDOM").findDOMNode(this.refs.positioner),d=c.childNodes[a].offsetLeft;if(b("Locale").isRTL()){var e=c.offsetWidth;c=c.childNodes[a].offsetWidth;return{reference:"right",offset:d+c-e}}return{reference:"left",offset:-d}};a.prototype.$7=function(){return Math.max(1,Math.ceil((this.$2().length-1)/m))};a.prototype.$8=function(){return this.state.page>0};a.prototype.$9=function(){return this.state.page+1<this.$7()};a.prototype.render=function(){return b("React").createElement("div",{className:"_5r85"},this.$13(),this.$14(),this.$15(),b("React").createElement("div",{className:"_5r88"},b("React").createElement("div",{className:"_5r89",ref:"positioner"},this.$16())))};a.prototype.$5=function(a){b("StickersActions").selectTrayPack(a)};a.prototype.$16=function(){var a=this.$2().map(function(a,c){return b("React").createElement(q,{key:a.id,onClick:function(){return this.$5(a.id)}.bind(this),pack:a,selected:this.props.selectedPackID===a.id,index:c,isComments:this.props.stickerInterface==b("StickerInterfaces").COMMENTS})}.bind(this)),c=[];for(var d=0;d<a.length;d+=m){var e=d;d===0&&d++;c.push(b("React").createElement("div",{className:"_5r81",key:d},a.slice(e,d+m)))}return c};a.prototype.$13=function(){return b("React").createElement("a",{"aria-label":o,className:"_5r86 rfloat","data-hover":"tooltip",href:"#",onClick:this.$12,role:"button",tabIndex:"0"},b("React").createElement(b("Image.react"),{className:"_5r87",src:i("392514")}),this.$17())};a.prototype.$17=function(){return!this.props.packs.num_new_sticker_packs?null:b("React").createElement(b("XUIBadge.react"),{className:"rfloat _3fhs",count:this.props.packs.num_new_sticker_packs,maxcount:9,type:"special"})};a.prototype.$14=function(){if(!this.$8())return null;var a=b("Locale").isRTL()?i("384087"):i("409864");return b("React").createElement(b("Link.react"),{className:"_37wu lfloat",onClick:this.$10,role:"button",tabIndex:"0"},b("React").createElement(b("Image.react"),{className:"_5r84",src:a}))};a.prototype.$15=function(){if(!this.$9())return null;var a=b("Locale").isRTL()?i("409864"):i("384087");return b("React").createElement(b("Link.react"),{className:"_37wv rfloat",onClick:this.$11,role:"button",tabIndex:"0"},b("React").createElement(b("Image.react"),{className:"_5r84",src:a}))};a.propTypes={stickerInterface:c.oneOf(b("getObjectValues")(b("StickerInterfaces"))),selectedPackID:c.string};a.defaultProps={stickerInterface:b("StickerInterfaces").MESSAGES};e.exports=b("RelayClassic_DEPRECATED").createContainer(a,{initialVariables:{stickerInterface:b("StickerInterfaces").MESSAGES},fragments:{packs:function(a){return function(){return{children:[{fieldName:"num_new_sticker_packs",kind:"Field",metadata:{},type:"Int"},{children:[{calls:[{kind:"Call",metadata:{type:"StickerInterfaces"},name:"interface",value:{kind:"CallVariable",callVariableName:"stickerInterface"}},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:1e4}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"is_comments_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_messenger_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_composer_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:{kind:"CallValue",callValue:20}},{kind:"Call",metadata:{type:"Int"},name:"height",value:{kind:"CallValue",callValue:20}}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"thumbnail_image",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"StickerPack"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"PacksInTrayEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"tray_packs",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"PacksInTrayConnection"}],fieldName:"sticker_store",kind:"Field",metadata:{canHaveSubselections:!0},type:"StickerStore"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutPackSelector_PacksRelayQL",type:"Viewer"}}()}}});k=babelHelpers.inherits(r,b("react-relay/classic/mutation/RelayMutation"));k&&k.prototype;r.prototype.getMutation=function(){return function(){return{calls:[{kind:"Call",metadata:{},name:"set_sticker_store_opened",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{fieldName:"client_mutation_id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],kind:"Mutation",metadata:{inputType:"SetStickerStoreOpenedData!"},name:"StickersFlyoutPackSelector",responseType:"SetStickerStoreOpenedResponsePayload"}}()};r.prototype.getVariables=function(){return{actor_id:this.props.actor_id}};r.prototype.getFatQuery=function(){return function(){return{children:[{children:[{fieldName:"num_new_sticker_packs",kind:"Field",metadata:{},type:"Int"}],fieldName:"viewer",kind:"Field",metadata:{canHaveSubselections:!0},type:"Viewer"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutPackSelectorRelayQL",type:"SetStickerStoreOpenedResponsePayload"}}()};r.prototype.getOptimisticResponse=function(){return{viewer:{num_new_sticker_packs:0}}};r.prototype.getConfigs=function(){var a=b("getViewerRecordID")();return[{type:l.FIELDS_CHANGE,fieldIDs:a?{viewer:a}:{}}]};function r(){k.apply(this,arguments)}}),null);
__d("StickersFlyoutPackSelectorRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="StickersFlyoutPackSelectorRoute";a.paramDefinitions={stickerInterface:{required:!0,type:"String"}};a.queries={packs:function(a,c){return function(a){return{children:[].concat.apply([],[b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"viewer",kind:"Query",metadata:{},name:"StickersFlyoutPackSelectorRoute",type:"Viewer"}}(a.getFragment("packs",{stickerInterface:c.stickerInterface}))}};e.exports=a}),null);
__d("StickersFlyoutStickerSelector.react",["cx","fbt","ix","AddCommentFlyoutSizeType","Grid.react","Image.react","React","RelayClassic_DEPRECATED","react-relay/classic/query/RelayQL","ScrollableArea.react","Sticker.react","StickerConstants","StickerInterfaces","StickersActions","StickersConfig","StickersStateStore","StickerUtils","getObjectValues","throttle"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Grid.react").GridItem;c=b("React").PropTypes;var l=320,m=255,n=213,o=278,p=308,q=36,r=112,s=42;d=Math.ceil(b("StickerConstants").TRAY_SIZE*(window.devicePixelRatio||1));f=babelHelpers.inherits(a,b("React").Component);j=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(){__p&&__p();if(this.props.stickers_for_pack||this.props.stickers_for_mru_pack){var a=this.props.stickers_for_pack?this.props.stickers_for_pack.stickers.edges:this.props.stickers_for_mru_pack.recently_used_stickers.edges;if(this.props.stickers_for_mru_pack){var c=b("StickersStateStore").getState();if(!c.get("recentStickersLoaded"))b("StickersActions").loadRecentStickers(this.props.stickers_for_mru_pack.recently_used_stickers.edges.map(function(a){return a.node}));else return this.props.recentStickers.filter(function(a){return this.$5(a)}.bind(this))}return a.filter(function(a){return this.$5(a.node)}.bind(this))}else if(this.props.stickers_for_search)return this.props.stickers_for_search.sticker_results.edges;else return null}.bind(this),this.$5=function(a){var c=this.props.stickerInterface;a=a.pack;if(c===b("StickerInterfaces").COMPOSER)return a.is_composer_capable;else if(c===b("StickerInterfaces").COMMENTS)return a.is_comments_capable;else if(c===b("StickerInterfaces").MESSAGES)return a.is_messenger_capable;else return!0}.bind(this),this.$2=function(){var a=(l-q*2-r)/2;return b("React").createElement("div",{className:"_5jdt",style:{marginTop:a+"px"}},b("React").createElement(b("Image.react"),{src:i("87146")}),b("React").createElement("p",null,h._("No Stickers to Show")))},this.$3=function(){var a=this.refs.stickerScrollable;if(a){a=a.getArea().getScrollTop();this.props.onScroll&&this.props.onScroll(a)}}.bind(this),c}a.prototype.render=function(){var a=this.$1();if(!a||a.length===0)return this.$2();var c=this.props.allowCustomStickers?s:0;c=c+(this.props.size==="small"?l:m);var d=this.props.size==="small"?this.props.allowCustomStickers?n:o:p;return b("React").createElement(b("ScrollableArea.react"),{ref:"stickerScrollable",height:this.props.height||c,onScroll:b("throttle")(this.$3,200),width:d,fade:!0},b("React").createElement("div",{className:this.props.allowCustomStickers&&this.props.size==="small"?"_1gyz":"_5r8k"},b("React").createElement(b("Grid.react"),{cols:this.props.allowCustomStickers?3:4,fixed:!0},this.$4(a))))};a.prototype.$4=function(a){return a.map(function(a){var c=a.node||a;a=c.sprite_image?c.sprite_image.uri:null;var d=c.padded_sprite_image?c.padded_sprite_image.uri:null,e=b("StickerUtils").getScaledDimensions(c.image.height,c.image.width,this.props.allowCustomStickers?this.props.size===b("AddCommentFlyoutSizeType").SMALL?55:90:b("StickerConstants").TRAY_SIZE);return b("React").createElement(k,{key:c.id},b("React").createElement("div",{className:this.props.allowCustomStickers?this.props.size===b("AddCommentFlyoutSizeType").SMALL?"_1gy-":"_2_gk":"_5r8h",onClick:function(event){return this.props.onStickerClick(c,event)}.bind(this),onKeyDown:function(event){return this.props.onStickerKeyDown(c,event)}.bind(this),role:"presentation"},b("React").createElement(b("Sticker.react"),{accessibilityLabel:c.label,animationTrigger:"hover",className:this.props.allowCustomStickers?this.props.size===b("AddCommentFlyoutSizeType").SMALL?"_1gy_":"_2_g-":"_5r8i",forceCursorPointer:!0,frameCount:c.frame_count,frameRate:c.frame_rate||83,framesPerCol:c.frames_per_column,framesPerRow:c.frames_per_row,sourceHeight:e.height,sourceURI:c.image.uri,sourceWidth:e.width,spriteURI:a,packName:c.pack.name,paddedSpriteURI:d,stickerID:c.id})))}.bind(this))};a.propTypes={allowCustomStickers:c.bool,height:c.number,onScroll:c.func,onStickerClick:c.func.isRequired,onStickerKeyDown:c.func.isRequired,recentStickers:c.array.isRequired,stickerInterface:c.oneOf(b("getObjectValues")(b("StickerInterfaces"))),size:c.oneOf(Object.values(b("AddCommentFlyoutSizeType")))};a.defaultProps={allowCustomStickers:!1,stickerInterface:b("StickerInterfaces").MESSAGES,size:b("AddCommentFlyoutSizeType").SMALL};var t=function(a,c,d,e,f,g){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"label",kind:"Field",metadata:{},type:"String"},{fieldName:"frame_count",kind:"Field",metadata:{},type:"Int"},{fieldName:"frame_rate",kind:"Field",metadata:{},type:"Int"},{fieldName:"frames_per_column",kind:"Field",metadata:{},type:"Int"},{fieldName:"frames_per_row",kind:"Field",metadata:{},type:"Int"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:b("react-relay/classic/query/RelayQL").__var(a)},{kind:"Call",metadata:{type:"Int"},name:"height",value:b("react-relay/classic/query/RelayQL").__var(c)}],children:[{fieldName:"height",kind:"Field",metadata:{},type:"Int"},{fieldName:"width",kind:"Field",metadata:{},type:"Int"},{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"image",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:b("react-relay/classic/query/RelayQL").__var(d)},{kind:"Call",metadata:{type:"Int"},name:"height",value:b("react-relay/classic/query/RelayQL").__var(e)}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"sprite_image",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:b("react-relay/classic/query/RelayQL").__var(f)},{kind:"Call",metadata:{type:"Int"},name:"height",value:b("react-relay/classic/query/RelayQL").__var(g)}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"padded_sprite_image",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"},{children:[{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"is_comments_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_composer_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_messenger_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"pack",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"StickerPack"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutStickerSelectorRelayQL",type:"Sticker"}}(d,d,d,d,d,d);e.exports=b("RelayClassic_DEPRECATED").createContainer(a,{initialVariables:{stickerInterface:b("StickerInterfaces").MESSAGES},fragments:{stickers_for_pack:function(){return function(a){return{children:[{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:1e3}}],children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Sticker"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"StickersInPackEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"stickers",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0,isFindable:!0},type:"StickersInPackConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutStickerSelector_Stickers_for_packRelayQL",type:"StickerPack"}}(t)},stickers_for_search:function(a){a.stickerInterface;return function(a){return{children:[{calls:[{kind:"Call",metadata:{type:"StickerInterfaces"},name:"interface",value:{kind:"CallVariable",callVariableName:"stickerInterface"}},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:40}}],children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Sticker"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"StickerSearchResultsEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"sticker_results",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"StickerSearchResultsConnection"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutStickerSelector_Stickers_for_searchRelayQL",type:"StickerSearchQuery"}}(t)},stickers_for_mru_pack:function(){return function(a,c){return{children:[{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:b("react-relay/classic/query/RelayQL").__var(a)}],children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay/classic/query/RelayQL").__frag(c)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Sticker"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"RecentlyUsedStickersEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"recently_used_stickers",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0,isFindable:!0},type:"RecentlyUsedStickersConnection"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutStickerSelector_Stickers_for_mru_packRelayQL",type:"Viewer"}}(b("StickersConfig").max_mru_stickers,t)}}})}),null);
__d("StickersFlyoutStickersForMRUPackRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="StickersFlyoutStickersForMRUPackRoute";a.queries={stickers_for_mru_pack:function(a){return function(a){return{children:[].concat.apply([],[b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"viewer",kind:"Query",metadata:{},name:"StickersFlyoutStickersForMRUPackRoute",type:"Viewer"}}(a.getFragment("stickers_for_mru_pack"))}};e.exports=a}),null);
__d("StickersFlyoutStickersForPackRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="StickersFlyoutStickersForPackRoute";a.paramDefinitions={id:{required:!0,type:"String"}};a.queries={stickers_for_pack:function(a){return function(a){return{calls:[{kind:"Call",metadata:{type:"ID!"},name:"id",value:{kind:"CallVariable",callVariableName:"id"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"},b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"node",kind:"Query",metadata:{isAbstract:!0,identifyingArgName:"id",identifyingArgType:"ID!"},name:"StickersFlyoutStickersForPackRoute",type:"Node"}}(a.getFragment("stickers_for_pack"))}};e.exports=a}),null);
__d("StickersFlyoutStickersForSearchRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="StickersFlyoutStickersForSearchRoute";a.paramDefinitions={query:{required:!0,type:"String"},stickerInterface:{required:!0,type:"String"}};a.queries={stickers_for_search:function(a,c){c=c.stickerInterface;return function(a){return{calls:[{kind:"Call",metadata:{type:"String!"},name:"query",value:{kind:"CallVariable",callVariableName:"query"}}],children:[].concat.apply([],[b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"sticker_search",kind:"Query",metadata:{identifyingArgName:"query",identifyingArgType:"String!"},name:"StickersFlyoutStickersForSearchRoute",type:"StickerSearchQuery"}}(a.getFragment("stickers_for_search",{stickerInterface:c}))}};e.exports=a}),null);
__d("StickersFlyoutTags.react",["cx","Grid.react","Image.react","React","RelayClassic_DEPRECATED","react-relay/classic/query/RelayQL","ScrollableArea.react","XUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Grid.react").GridItem;a=function(a){var c=a.tags.sticker_store.sticker_tags.edges.filter(function(a){return a.node.thumbnail_image.uri!==null}).sort(function(a,b){return a.node.order-b.node.order}).map(function(c,d){return b("React").createElement(h,{key:d,className:"_3iqe"},b("React").createElement("div",{className:"_t5c"+(d<2?" _1b27":"")+(d%2===0?" _t5d":"")+(d%2!==0?" _t5e":"")},b("React").createElement(b("XUIButton.react"),{image:b("React").createElement(b("Image.react"),{src:c.node.thumbnail_image.uri}),label:c.node.name,onClick:function(){return a.onTagSelect(c.node)},className:"_5jdu",style:{background:"#"+c.node.color_code},disabled:a.inputDisabled})))});return b("React").createElement(b("ScrollableArea.react"),{height:a.height,width:a.width,shadow:!0,fade:!0,className:"_5jei"},b("React").createElement(b("Grid.react"),{spacing:"pas",cols:2,fixed:!0},c))};e.exports=b("RelayClassic_DEPRECATED").createContainer(a,{fragments:{tags:function(){return function(){return{children:[{children:[{calls:[{kind:"Call",metadata:{type:"StickerTagType"},name:"sticker_tag_type",value:{kind:"CallValue",callValue:"FEATURED"}},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:20}}],children:[{children:[{children:[{fieldName:"order",kind:"Field",metadata:{},type:"Int"},{fieldName:"color_code",kind:"Field",metadata:{},type:"String"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"thumbnail_image",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"StickerTag"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"AllStickerTagsEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"sticker_tags",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"AllStickerTagsConnection"}],fieldName:"sticker_store",kind:"Field",metadata:{canHaveSubselections:!0},type:"StickerStore"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutTags_TagsRelayQL",type:"Viewer"}}()}}})}),null);
__d("StickersFlyoutTagsRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="StickersFlyoutTagsRoute";a.queries={tags:function(a){return function(a){return{children:[].concat.apply([],[b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"viewer",kind:"Query",metadata:{},name:"StickersFlyoutTagsRoute",type:"Viewer"}}(a.getFragment("tags"))}};e.exports=a}),null);
__d("StickersFlyoutTagSelector.react",["cx","fbt","AddCommentFlyoutSizeType","Banzai","Bootloader","React","StickerInterfaces","StickersFlyoutStickerSelector.react","StickersFlyoutStickersForSearchRoute","StickersFlyoutTags.react","StickersFlyoutTagsRoute","StickersTypedLogger","StickerUtils","UFISearchInput.react","XUISpinner.react","debounce","emptyFunction","getObjectValues","performanceAbsoluteNow","react-relay/classic/container/RelayRootContainer"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=320,j=257,k=278,l=324,m=46,n=38,o=b("debounce")(function(a){if(!a||a.length<2)return;new(b("StickersTypedLogger"))().setEvent("search_sticker").setSearchtoken(a).log()},1e3);c=b("React").createClass({displayName:"StickersFlyoutTagSelector",propTypes:{onStickerClick:a.func.isRequired,onStickerKeyDown:a.func.isRequired,stickerInterface:a.oneOf(b("getObjectValues")(b("StickerInterfaces"))),shown:a.bool,size:a.oneOf(Object.values(b("AddCommentFlyoutSizeType")))},getInitialState:function(){return{input:"",isScrolling:!1,tagChosen:!1}},getDefaultProps:function(){return{stickerInterface:b("StickerInterfaces").MESSAGES,size:b("AddCommentFlyoutSizeType").SMALL}},componentDidMount:function(){this._markerPoint("mount_sticker_tag_selector"),this._focusInput()},UNSAFE_componentWillReceiveProps:function(a){a.shown&&!this.props.shown&&this.setState(this.getInitialState(),this._focusInput)},shouldComponentUpdate:function(a){return a.shown},render:function(){return b("React").createElement("div",{className:"_217a"+(this.state.isScrolling?" _1hg1":"")},b("React").createElement(b("UFISearchInput.react"),{onClick:function(a){return a&&a.stopPropagation()},onChange:this._inputChanged,onClear:this._handleResetButtonClick,placeholder:h._("Search stickers"),ref:"inputField",value:this.state.input||""}),this._renderContentArea())},_markerPoint:function(event){var a=b("performanceAbsoluteNow")();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){b.markerPoint(c.COMPOSER_INTERACTION,event,"",0,a)},"StickersFlyoutTagSelector.react")},_renderContentArea:function(){__p&&__p();var a=this.props.size==="small"?i-m:j-n,c=this.props.size==="small"?k:l,d=this._normalizeInput(this.state.input),e=b("React").createElement("div",{className:"_e0r"},b("React").createElement(b("XUISpinner.react"),{size:"large"}));if(this.state.tagChosen||d.length>1){o(d);return b("React").createElement(b("react-relay/classic/container/RelayRootContainer"),{Component:b("StickersFlyoutStickerSelector.react"),route:new(b("StickersFlyoutStickersForSearchRoute"))({query:d,stickerInterface:this.props.stickerInterface}),renderLoading:function(){return e},renderFetched:function(c){this._markerPoint("load_sticker_selector");this._markerPoint=b("emptyFunction");return b("React").createElement(b("StickersFlyoutStickerSelector.react"),babelHelpers["extends"]({},c,{ref:"selector",height:a,onScroll:this._onScroll,onStickerClick:this._onStickerClick,onStickerKeyDown:this.props.onStickerKeyDown,recentStickers:[],stickerInterface:this.props.stickerInterface,size:this.props.size}))}.bind(this)})}else return b("React").createElement(b("react-relay/classic/container/RelayRootContainer"),{Component:b("StickersFlyoutTags.react"),route:new(b("StickersFlyoutTagsRoute"))(),renderLoading:function(){return e},renderFetched:function(e){this._markerPoint("load_sticker_tag_selector");return b("React").createElement(b("StickersFlyoutTags.react"),babelHelpers["extends"]({},e,{height:a-m,inputDisabled:d.length===1,onTagSelect:this._selectTag,width:c-16}))}.bind(this)})},_onScroll:function(a){this.setState({isScrolling:!!a})},_selectTag:function(a){new(b("StickersTypedLogger"))().setEvent("select_tag").setTagid(a.id).log(),this.setState({tagChosen:!0,input:b("StickerUtils").capitalizeWords(a.name)}),this._focusInput()},_normalizeInput:function(a){return a.trim().replace(/\s+/," ").toLowerCase()},_handleResetButtonClick:function(a){a.preventDefault(),this.setState(this.getInitialState())},_inputChanged:function(a){this.setState({input:a.target.value,tagChosen:!1,isScrolling:!1})},_focusInput:function(){this.refs.inputField.focusInput&&this.refs.inputField.focusInput()},_onStickerClick:function(a,event){this.props.onStickerClick(a,event);try{if(b("Banzai").isEnabled("sticker_search_ranking")){a={query:this._normalizeInput(this.state.input),sticker_id:a.id};b("Banzai").post("sticker_search_click",a,b("Banzai").VITAL)}}catch(a){}}});e.exports=c}),null);
__d("StickersFlyout.react",["cx","fbt","AddCommentFlyoutSizeType","Bootloader","GamerGraphUserActionsTypedLogger","GamesVideoPageCustomStickerPackQueryWebGraphQLQuery","Keys","MessagesEmoticons.react","PureStoreBasedStateMixin","React","ReactComponentWithPureRenderMixin","StickerConstants","StickerInterfaces","StickersActions","StickersConfig","StickersDispatcher","StickersFlyoutPackSelector.react","StickersFlyoutPackSelectorRoute","StickersFlyoutStickerSelector.react","StickersFlyoutStickersForMRUPackRoute","StickersFlyoutStickersForPackRoute","StickersFlyoutTagSelector.react","StickersStateStore","StickersTypedLogger","WebGraphQL","XUISpinner.react","emptyFunction","getObjectValues","joinClasses","performanceAbsoluteNow","promiseDone","react-relay/classic/container/RelayRootContainer"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=b("StickerConstants").SEARCH_PACK_ID,j=["Enter"," "];c=b("React").createClass({displayName:"StickersFlyout",mixins:[b("ReactComponentWithPureRenderMixin"),b("PureStoreBasedStateMixin")(b("StickersStateStore"))],statics:{calculateState:function(){var a=b("StickersStateStore").getState();return{packID:a.get("trayPackID"),trayLoaded:a.get("trayLoaded")}}},propTypes:{allowCustomStickers:a.bool,customStickerOwnerID:a.string,stickerInterface:a.oneOf(b("getObjectValues")(b("StickerInterfaces"))),onStickerSelect:a.func.isRequired,onEmoticonSelect:a.func,onShown:a.func,onHidden:a.func,onEscKeyDown:a.func,shown:a.bool,size:a.oneOf(Object.values(b("AddCommentFlyoutSizeType")))},getDefaultProps:function(){return{allowCustomStickers:!1,customStickerOwnerID:"",stickerInterface:b("StickerInterfaces").MESSAGES,shown:!1,size:b("AddCommentFlyoutSizeType").SMALL}},UNSAFE_componentWillMount:function(){b("StickersDispatcher").explicitlyRegisterStores([b("StickersStateStore")])},componentDidMount:function(){this.props.allowCustomStickers&&b("promiseDone")(b("WebGraphQL").exec(new(b("GamesVideoPageCustomStickerPackQueryWebGraphQLQuery"))({pageID:this.props.customStickerOwnerID})),function(a){a=(a=a)!=null?(a=a.page)!=null?a.custom_sticker_pack:a:a;a&&b("StickersActions").selectTrayPack(a.id)}),this.props.shown&&this._onShown()},UNSAFE_componentWillReceiveProps:function(a){a.shown?this._onShownWrapper():this._onHidden()},componentDidUpdate:function(a){!a.shown&&this.props.shown?this._onShown():a.shown&&!this.props.shown&&this._onHidden()},_onShownWrapper:function(){this.props.onShown?this.props.onShown(this._onShown):this._onShown()},_onShown:function(){new(b("StickersTypedLogger"))().setEvent("open_tray").log()},_onHidden:function(){this.props.onHidden&&this.props.onHidden()},_onKeyDown:function(event){event.keyCode===b("Keys").ESC&&this.props.onEscKeyDown&&(event.stopPropagation(),event.preventDefault(),this.props.onEscKeyDown())},_onKeyPress:function(event){this.state.packID!==i&&j.indexOf(event.key)===-1&&b("StickersActions").selectTrayPack(i)},_markerPoint:function(event){var a=b("performanceAbsoluteNow")();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){b.markerPoint(c.COMPOSER_INTERACTION,"load_sticker_selector","",0,a)},"StickersFlyout.react")},loadPack:function(){__p&&__p();var a=b("React").createElement("div",{className:"_e0r"},b("React").createElement(b("XUISpinner.react"),{size:"large"}));if(!this.state.trayLoaded)return a;if(this.state.packID===b("StickerConstants").EMOTICON_PACK_ID)return b("React").createElement("div",{className:"_5r8l","data-id":this.state.packID},b("React").createElement(b("MessagesEmoticons.react"),{onEmoticonSelect:this.props.onEmoticonSelect}));if(this.state.packID===i&&b("StickersConfig").search_pack)return b("React").createElement("div",{className:"_5r8l"},b("React").createElement(b("StickersFlyoutTagSelector.react"),{className:"fbStickersFlyoutTagSelector",stickerInterface:this.props.stickerInterface,shown:this.props.shown,onStickerClick:this._onStickerClick,onStickerKeyDown:this._onStickerKeyDown,size:this.props.size}));var c=this.state.packID===b("StickerConstants").MRU_STICKER_PACK?new(b("StickersFlyoutStickersForMRUPackRoute"))():new(b("StickersFlyoutStickersForPackRoute"))({id:this.state.packID});return b("React").createElement("div",{className:"_5r8l","data-id":this.state.packID},b("React").createElement(b("react-relay/classic/container/RelayRootContainer"),{Component:b("StickersFlyoutStickerSelector.react"),route:c,renderLoading:function(){return a},renderFetched:function(a){this._markerPoint();this._markerPoint=b("emptyFunction");return b("React").createElement(b("StickersFlyoutStickerSelector.react"),babelHelpers["extends"]({},a,{allowCustomStickers:this.props.allowCustomStickers,recentStickers:b("StickersStateStore").getState().get("recentStickers"),stickerInterface:this.props.stickerInterface,onStickerClick:this._onStickerClick,onStickerKeyDown:this._onStickerKeyDown,size:this.props.size}))}.bind(this)}))},_markerEnd:function(){var a=b("performanceAbsoluteNow")();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){b.markerPoint(c.COMPOSER_INTERACTION,"send_sticker","",0,a),b.markerEnd(c.COMPOSER_INTERACTION,"SUCCESS",0,a)},"StickersFlyout.react")},_onStickerClick:function(a,event){b("StickersStateStore").getState().get("recentStickersLoaded")&&b("StickersActions").addRecentSticker(a);this._markerEnd();this.props.onStickerSelect(a.id,event,{label:a.label,uri:(a=a)!=null?(a=a.image)!=null?a.uri:a:a});this.props.allowCustomStickers&&this._logCustomStickerEvent()},_onStickerKeyDown:function(a,event){event.keyCode===b("Keys").RETURN&&(event.stopPropagation(),event.preventDefault(),this.props.onStickerSelect(a.id,event,{label:a.label}),this.props.allowCustomStickers&&this._logCustomStickerEvent())},_logCustomStickerEvent:function(){new(b("GamerGraphUserActionsTypedLogger"))().setEvent("send_custom_sticker").log()},render:function(){return b("React").createElement("div",{"aria-label":h._("Stickers"),className:b("joinClasses")(this.props.className,"_5r8f"),onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,role:"dialog"},this.props.allowCustomStickers?null:b("React").createElement("div",{className:"_5r8e"},b("React").createElement(b("react-relay/classic/container/RelayRootContainer"),{Component:b("StickersFlyoutPackSelector.react"),route:new(b("StickersFlyoutPackSelectorRoute"))({stickerInterface:this.props.stickerInterface}),renderFetched:function(a){return b("React").createElement(b("StickersFlyoutPackSelector.react"),babelHelpers["extends"]({},a,{selectedPackID:this.state.packID,stickerInterface:this.props.stickerInterface,shown:this.props.shown}))}.bind(this)})),b("React").createElement("div",{className:this.props.allowCustomStickers?this.props.size===b("AddCommentFlyoutSizeType").SMALL?"_4827":"_67xe":"_5r8m"},this.loadPack()))}});e.exports=c}),null);
__d("ReactComposerStickerToggleController.react",["cx","invariant","Arbiter","ContextualLayerAutoFlip","LayerTabIsolation","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerEvents","ReactComposerLoggingName","ReactComposerTaggerActions","StickerInterfaces","StickersFlyout.react","XUIContextualDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerStickerToggleController",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{taggerID:a.string.isRequired,loggingName:a.oneOf(Object.values(b("ReactComposerLoggingName"))).isRequired,children:a.any,showFlyout:a.bool.isRequired},render:function(){return b("React").createElement("span",{onClick:this._onSelect,role:"presentation"},b("React").createElement("span",{className:"_4mvf",ref:"container"},this.props.children),this._renderStickerFlyout())},_renderStickerFlyout:function(){return!this.props.showFlyout?null:b("React").createElement(b("XUIContextualDialog.react"),{alignment:"left",behaviors:{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),LayerTabIsolation:b("LayerTabIsolation")},contextRef:function(){return this.refs.container}.bind(this),onBlur:this._hideFlyout,onToggle:function(a){!a&&this.props.showFlyout&&this._hideFlyout()}.bind(this),position:"below",shown:this.props.showFlyout,hasActionableContext:!0,width:278},b("React").createElement("div",null,b("React").createElement(b("StickersFlyout.react"),{onEscKeyDown:this._hideFlyout,onStickerSelect:this._onStickerSelected,onEmoticonSelect:this._onEmoticonSelected,stickerInterface:b("StickerInterfaces").POSTS,shown:this.props.showFlyout})))},_onSelect:function(){b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.loggingName,this.props.taggerID,!1)},_hideFlyout:function(){this.props.showFlyout&&b("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.props.loggingName)},_onStickerSelected:function(a,event,c){b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.props.loggingName,this.props.taggerID,{stickerID:a,accessibilityLabel:c?c.label:""}),this._hideFlyout(),b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)},_onEmoticonSelected:function(a){h(0)}});e.exports=c}),null);
__d("ReactComposerPeopleSproutContainer.react",["ExtensibleSproutsItemType","React","ReactComposerSproutsDefaultUIConfig","ReactComposerTaggerSproutContainer.react","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("ReactComposerTaggerSproutContainer.react"),{uiConfig:this.props.uiConfig,taggerID:b("ReactComposerTaggerType").PEOPLE})};function a(){g.apply(this,arguments)}a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfig")[b("ExtensibleSproutsItemType").WITH_TAG]};e.exports=a}),null);
__d("ReactComposerStickerSproutContainer.react",["ExtensibleSproutsItemType","FluxContainer","React","ReactComposerContextTypes","ReactComposerDisabledSproutItem.react","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfig","ReactComposerStickerToggleController.react","ReactComposerTaggerStore","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("ReactComposerTaggerStore")]};a.calculateState=function(a,c,d){a=d.composerID;return{highlighted:b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").STICKER),isDisabled:b("ReactComposerTaggerStore").isDisabled(a,b("ReactComposerTaggerType").STICKER),isSelected:b("ReactComposerTaggerStore").getSelectedTagger(a)===b("ReactComposerTaggerType").STICKER}};a.prototype.render=function(){return this.state.isDisabled?b("React").createElement(b("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig}):b("React").createElement(b("ReactComposerStickerToggleController.react"),babelHelpers["extends"]({},this.props,{showFlyout:this.state.isSelected,taggerID:b("ReactComposerTaggerType").STICKER,loggingName:this.props.uiConfig.loggingName}),b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.state.highlighted}))};function a(){g.apply(this,arguments)}a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfig")[b("ExtensibleSproutsItemType").STICKER]};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);