if (self.CavalryLogger) { CavalryLogger.start_js(["4Eg\/B"]); }

__d("VideoVODStaticConcurrentViewerCount_Query.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"videoID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"stage",type:"VODPresenceCVCDisplayStage",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"vod_presence_cvc",storageKey:null,args:[{kind:"Variable",name:"stage",variableName:"stage",type:"VODPresenceCVCDisplayStage"},{kind:"Variable",name:"video_id",variableName:"videoID",type:"ID!"}],concreteType:"VODPresenceCVCResponse",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"cvc",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_displayed",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"query",name:"VideoVODStaticConcurrentViewerCount_Query",id:"2391810170836641",text:null,metadata:{},fragment:{kind:"Fragment",name:"VideoVODStaticConcurrentViewerCount_Query",type:"Query",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"VideoVODStaticConcurrentViewerCount_Query",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ContextualBlind",["cx","Animation","Arbiter","DOM","Event","Rect","Vector","joinClasses","shield"],(function(a,b,c,d,e,f,g){__p&&__p();var h=0;c=1;var i=.8,j=500;function a(){"use strict";__p&&__p();this.updatePosition=function(a,c,d,e,f,g){__p&&__p();var h=b("Vector").getDocumentDimensions().y;a=b("Rect").getElementBounds(a);a=new(b("Rect"))(a.t-(c||0),a.r+(d||0),a.b+(e||0),a.l-(f||0),a.domain);c=document;d=c&&c.documentElement&&c.documentElement.scrollWidth||c&&c.body&&c.body.scrollWidth||0;this.$8(this.$2[0],new(b("Rect"))(g?g+window.scrollY:0,d,a.t,0,"document"));this.$8(this.$2[1],new(b("Rect"))(a.t,d,a.b,a.r,"document"));this.$8(this.$2[2],new(b("Rect"))(a.b,d,h,0,"document"));this.$8(this.$2[3],new(b("Rect"))(a.t,a.l,a.b,0,"document"));this.$4&&this.$8(this.$4,a)}.bind(this)}a.prototype.$7=function(){"use strict";this.$1&&b("Arbiter").unsubscribe(this.$1),this.$1=null,this.$2=[],this.$3&&this.$3.remove(),this.$3=null,this.$4&&b("DOM").remove(this.$4),this.$5=!1};a.prototype.show=function(a,c,d,e,f,g,j,k,l,m){"use strict";__p&&__p();if(this.$6)return;this.$6=!0;j==null&&(j=i);k=k||h;this.hide();m=b("joinClasses")((k===h?"_2xgb":"")+(k!==h?" _2xgc":""),m);for(var n=0;n<4;n++)this.$2.push(b("DOM").create("div",{className:m,style:"opacity:"+j}));b("DOM").appendContent(document.body,this.$2);g!==!1&&(m=k===h?"_2xgd":"_2xge",this.$4=b("DOM").create("div",{className:m}),b("DOM").appendContent(document.body,this.$4));n=b("shield")(this.updatePosition,this,a,c,d,e,f,l);n();this.$1=b("Arbiter").subscribe("reflow",n);this.$3=b("Event").listen(window,"resize",n);this.$5=!0;this.$6=!1};a.prototype.fadeIn=function(a,c,d,e,f,g,k,l,m,n,o){"use strict";l=l||j;k==null&&(k=i);this.show(a,c,d,e,f,g,0,m==null?h:m,n,o);for(var a=0;a<this.$2.length;a++){c=this.$2[a];new(b("Animation"))(c).duration(l).from("opacity",0).to("opacity",k).go()}};a.prototype.hide=function(){"use strict";this.$2&&this.$2.forEach(b("DOM").remove),this.$7()};a.prototype.fadeOut=function(a,c){c===void 0&&(c=j);if(!this.$2)return;a==null&&(a=i);for(var d=0;d<this.$2.length;d++){var e=this.$2[d];new(b("Animation"))(e).duration(c).from("opacity",a).to("opacity",0).ondone(b("DOM").remove.bind(null,e)).go()}this.$7()};a.prototype.$8=function(a,b){"use strict";b.getPositionVector().setElementPosition(a),b.getDimensionVector().setElementDimensions(a)};a.STYLE_LIGHT=h;a.STYLE_DARK=c;e.exports=a}),null);
__d("ContextualLayerBlind",["cx","ContextualBlind","CSS"],(function(a,b,c,d,e,f,g){__p&&__p();var h={isModal:!1,opacity:.3,paddingTop:8,paddingRight:8,paddingBottom:8,paddingLeft:8,style:b("ContextualBlind").STYLE_DARK,fadeDuration:0,marginTop:0,className:null},i=250;function j(a,b){"use strict";b=babelHelpers["extends"]({},h,b),this.$4=b.isModal,this.$2=a,this.$5=b.opacity,this.$6=b.paddingTop,this.$7=b.paddingRight,this.$8=b.paddingBottom,this.$9=b.paddingLeft,this.$10=b.style,this.$11=b.fadeDuration,this.$12=b.marginTop,this.$13=b.className}j.prototype.enable=function(){"use strict";this.$3=[this.$2.subscribe(["show","reposition"],this.$14.bind(this)),this.$2.subscribe("hide",this.$15.bind(this))],b("CSS").addClass(this.$2.getRoot(),"_4746"),this.$1=new(b("ContextualBlind"))()};j.prototype.disable=function(){"use strict";this.$15();b("CSS").removeClass(this.$2.getRoot(),"_4746");while(this.$3.length)this.$3.pop().unsubscribe();this.$3=null;this.$1=null};j.prototype.$14=function(){"use strict";if(this.$2.isShown()){var a=this.$2.getContext();this.$11>0?this.$1.fadeIn(a,this.$6,this.$7,this.$8,this.$9,this.$4,this.$5,this.$11,this.$10,this.$12,this.$13):this.$1.show(a,this.$6,this.$7,this.$8,this.$9,this.$4,this.$5,this.$10,this.$12,this.$13)}};j.prototype.$15=function(){"use strict";this.$11>0?this.$1.fadeOut(this.$5,this.$11):this.$1.hide()};j.withFade=function(a,b){__p&&__p();a===void 0&&(a=i);b===void 0&&(b={});return function(){var c,d;c=babelHelpers.inherits(e,j);d=c&&c.prototype;function e(c,e){"use strict";d.constructor.call(this,c,babelHelpers["extends"]({},e,{fadeDuration:a},b))}return e}()};e.exports=j}),null);
__d("VideoComponentVODIndicator.react",["cx","fbt","React","SimpleNUXMessage","SimpleNUXMessageTypes","SubscriptionsHandler","VideoComponent","VideoConcurrentViewerCount.react","VideoPlayerOrigins","VideoSocialFabricCVCExperiments","XUIAmbientNUX.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.state={showVODIndicator:!0,viewerCount:null,showNUX:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").SOCIAL_FABRIC_VOD_CVC)},this.$5=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").SOCIAL_FABRIC_VOD_CVC),this.setState({showNUX:!1})}.bind(this),this.$1=new(b("SubscriptionsHandler"))()}a.prototype.enable=function(a){this.$3=a;var b=a.getOption("VideoVODCVCFetching","currentViewerCount"+a.getVideoID());b&&this.setState({viewerCount:b});this.$1.addSubscriptions(a.addListener("VideoVODCVC/viewCountChange",function(a){this.setState({viewerCount:a.cvc,showVODIndicator:a.shouldDisplayCVC})}.bind(this)),a.addListener("beginPlayback",function(){this.setState({showVODIndicator:!0})}.bind(this)),a.addListener("finishPlayback",function(){return this.setState({showVODIndicator:!1})}.bind(this)))};a.prototype.disable=function(){this.$1.release()};a.prototype.componentWillUnmount=function(){this.disable()};a.prototype.render=function(){return!this.state.showVODIndicator||!this.state.viewerCount?null:b("React").createElement("div",{className:b("joinClasses")((this.props.inline?"":"_3htz")+(this.props.inline?" _3qry":"")+" _4ubd"+(this.$3.getPlayerOrigin()!==b("VideoPlayerOrigins").VIDEO_HOME?" _4gz9":"")+(this.$3.getPlayerOrigin()===b("VideoPlayerOrigins").VIDEO_HOME?" _6qxk":"")+(b("VideoSocialFabricCVCExperiments").isCVCDisplayEnabled?"":" _6r89")+" uiContextualLayerParent")},b("React").createElement(b("VideoConcurrentViewerCount.react"),{ref:function(a){return this.$2=a}.bind(this),viewerCount:this.state.viewerCount}),b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return this.$2}.bind(this),label:this.$4(),position:"right",shown:this.state.showNUX,onCloseButtonClick:this.$5},this.$4()))};a.prototype.$4=function(){return h._("See how many people are watching this video now")};e.exports=b("VideoComponent").createContainer(a)}),null);
__d("VideoVODStaticConcurrentViewerCount.react",["cx","React","RelayFBEnvironment","RelayModern","VideoConcurrentViewerCount.react","VideoSocialFabricCVCExperiments","VideoVODStaticConcurrentViewerCount_Query.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=function(){return b("VideoVODStaticConcurrentViewerCount_Query.graphql")};h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:j,variables:{videoID:this.props.videoID,stage:this.props.stage},render:function(a){var c;a.error;a=a.props;if((a==null?void 0:(c=a.vod_presence_cvc)==null?void 0:c.cvc)===undefined)return null;c=b("VideoSocialFabricCVCExperiments").isCVCDisplayEnabled&&(a==null?void 0:(c=a.vod_presence_cvc)==null?void 0:c.is_displayed);return b("React").createElement("div",{className:c?"":"hidden_elem"},b("React").createElement(b("VideoConcurrentViewerCount.react"),{viewerCount:a==null?void 0:(c=a.vod_presence_cvc)==null?void 0:c.cvc}))}})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("VideoVODCVCFetchingQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1825694550811294"};c.getQueryID=function(){"use strict";return"304616633641541"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);