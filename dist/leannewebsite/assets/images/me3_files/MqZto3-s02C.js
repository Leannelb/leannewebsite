if (self.CavalryLogger) { CavalryLogger.start_js(["baB1a"]); }

__d("EventPlanUtils",["EventRemindersGating","EventReminderStateStore","MercuryIDs","ShortProfiles","getPageIDFromThreadID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={isAllowedtoStartPlanWithRecipients:function(a){__p&&__p();if(b("getPageIDFromThreadID")(a))return!1;var c=b("MercuryIDs").getUserIDFromThreadID(a);if(c){c=b("ShortProfiles").getNow(c);if(!c||!c.is_friend)return!1}c=b("EventReminderStateStore").getEvent(a);return!(c&&c.exists)&&b("EventRemindersGating").isCreateAllowed}};e.exports=a}),null);
__d("ChangeChatTabColorDialogBody.react",["ix","cssVar","cx","fbt","Grid.react","Image.react","MessengerCustomThreadColorButtonReact.bs","MessagingThreadCustomizationConfig","MessagingThreadCustomizationSource","MessengerThreadThemesWebGraphQLQuery","React","MercuryThreadActions","WebGraphQL","convertMIGColorToFIGColor","fbglyph","gkx","promiseDone"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("Grid.react").GridItem,m=b("MessengerCustomThreadColorButtonReact.bs").jsComponent,n=b("MercuryThreadActions").get(),o="196241301102133",p="Unknown Color";function q(a){return"#"+a.slice(2).toLowerCase()}c=babelHelpers.inherits(a,b("React").Component);k=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.state={themes:[]},b}a.prototype.componentDidMount=function(){var a=b("gkx")("AT4vZBWyiZL1KZrir2lJt4vVNMIYu8sDbA3PtNwJWZh5seJSYZeYdmCgqH3wgiUS4PfslnEPm3wz9jSsjDINBCSy")?"M4_VERSION0":"LEGACY";b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerThreadThemesWebGraphQLQuery"))({version:a})),function(a){this.setState({themes:a.messenger_thread_themes.slice()})}.bind(this))};a.prototype.renderThemeChoice=function(a){__p&&__p();var c=this.props.onChoose,d=this.state.themes;if(!d||!d.length)return null;var e=a.theme_id||o;return b("React").createElement("div",{className:"_gs3 _430z"},b("React").createElement("div",{className:"_28he"},j._("Everyone in this conversation will see this.")),b("React").createElement(b("Grid.react"),{cols:5,className:"_gs4"},d.map(function(d){var f=q(d.fallback_color);return b("React").createElement(l,{key:d.id,className:"_gs0"},b("React").createElement("div",null,d.id===e?b("React").createElement(b("Image.react"),{className:"_gs2",src:g("114570")}):null,b("React").createElement(m,{colorChoice:b("convertMIGColorToFIGColor")(f)||f,colorName:d.accessibility_label||p,isSelected:d.id===e,onChoose:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){n.changeThreadTheme(a.thread_id,d.id,"SETTINGS"),typeof c==="function"&&c()})})))})))};a.prototype.renderColorChoice=function(a){__p&&__p();var c=this.props.onChoose,d=a&&a.solid_color?a.solid_color:"#0084ff",e=["#0084ff"].concat(b("MessagingThreadCustomizationConfig").colorChoices),f=b("MessagingThreadCustomizationConfig").colorNames,h=b("React").createElement("div",{className:"_28he"},j._("Everyone in this conversation will see this."));return b("React").createElement("div",{className:"_gs3 _430z"},!this.props.hideSubtitle&&h,b("React").createElement(b("Grid.react"),{cols:5,className:"_gs4 _1z4w"},e.map(function(e){var h=e.toLowerCase()==d.toLowerCase();return b("React").createElement(l,{key:e,className:"_gs0 _1z4x"},b("React").createElement("div",null,h?b("React").createElement(b("Image.react"),{className:"_gs2",src:g("114570")}):null,b("React").createElement(m,{colorChoice:b("convertMIGColorToFIGColor")(e)||e,colorName:f[e]||p,isSelected:h,onChoose:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){r(c,a.thread_id,e,d)})})))})))};a.prototype.render=function(){if(b("gkx")("AT7TN3zHmYL49F0AvBOAA1uBQTR39Xno5tAJLNsZhlz_xhvcIQxda5cW7tBbM-Edt1n2mM9GSYi3GuBA4bwHsSOR"))return this.renderThemeChoice(this.props.thread);else return this.renderColorChoice(this.props.thread)};function r(a,c,d,e){d!=e&&(n.changeThreadColor(c,d,b("MessagingThreadCustomizationSource").SETTINGS),typeof a==="function"&&a())}e.exports=a}),null);
__d("ChangeChatTabColorDialog",["fbt","ChangeChatTabColorDialogBody.react","React","SimpleXUIDialog","XUIDialogCancelButton.react"],(function(a,b,c,d,e,f,g){"use strict";a={show:function(a,c){var d=355,e=null,f=g._("Pick a colour for this conversation");a=b("React").createElement(b("ChangeChatTabColorDialogBody.react"),{thread:a,onChoose:h});h=b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null));e=b("SimpleXUIDialog").showEx(a,f,h,null,{width:d,causalElement:c});function h(){e&&e.hide()}}};e.exports=a}),null);
__d("ChatStartPlanDialogHelper",["cx","fbt","AsyncRequest","DateConsts","DialogX","EventPlanTimeHelper","EventReminderConstants","EventRemindersGating","EventsActionsLogger","FBJSON","LightweightEventDateTimePicker.react","LightweightEventLocationRow.react","LightweightEventType","MercuryIDs","React","SimpleXUIDialog","XCreateEventReminderController","XUIButton.react","XUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("EventReminderConstants").TimeErrorType;function a(){this.$9=function(a,b){this.$1=a,this.$6=b}.bind(this),this.$11=function(a){this.$3="",this.$4=a,this.$5=""}.bind(this),this.$12=function(a,b,c){this.$3=a,this.$4=b,this.$5=c}.bind(this)}a.prototype.showDialog=function(a){this.$7();var c=null,d=this.$8(),e=b("React").createElement("div",null,b("React").createElement(b("LightweightEventDateTimePicker.react"),{initialDateTime:this.$1,onDateTimeChange:this.$9}),b("React").createElement("hr",null),b("React").createElement(b("XUITextInput.react"),{className:"_2l1n","aria-label":h._("Event name"),placeholder:h._("Name"),onChange:function(event){return this.$10(event)}.bind(this)}),b("React").createElement("hr",null),b("React").createElement(b("LightweightEventLocationRow.react"),{onLocationChange:this.$11,onLocationSelect:this.$12,useDropDown:!0})),f=b("React").createElement(b("XUIButton.react"),{label:this.$13(),use:"confirm",onClick:function(){return this.$14(c,a)}.bind(this)});c=b("SimpleXUIDialog").showEx(e,d,f,null)};a.prototype.$7=function(){this.$1=b("EventPlanTimeHelper").getDefaultDateTime(),this.$2="",this.$3="",this.$4="",this.$5="",this.$6=i.NO_ERROR};a.prototype.$10=function(event){this.$2=event.target.value};a.prototype.$14=function(a,c){if(this.$6!==i.NO_ERROR)return;c=b("MercuryIDs").getThreadFBIDFromThreadID(c);var d={action_history:[{surface:b("EventsActionsLogger").Surface.MESSENGER_CHAT_TAB,mechanism:b("EventsActionsLogger").Mechanism.MESSENGER_THREAD_SETTINGS}]};d=b("XCreateEventReminderController").getURIBuilder().setString("acontext",b("FBJSON").stringify(d)).setEnum("event_type",b("LightweightEventType").EVENT).setInt("event_time",Math.floor(this.$1/b("DateConsts").MS_PER_SEC)).setInt("thread_id",c).setString("title",this.$2).setString("location_id",this.$3).setString("location_name",this.$4);new(b("AsyncRequest"))(d.getURI()).setHandler(function(b){b.payload&&a&&a.hide()}).send()};a.prototype.$8=function(){return b("EventRemindersGating").shouldUseNewName?h._("Plan"):h._("Event reminder")};a.prototype.$13=function(){return b("EventRemindersGating").shouldUseNewName?h._("Create plan"):h._("Create")};e.exports=new a()}),null);
__d("EditChatTabNicknameDialog",["cx","fbt","MercuryIDs","MessagingThreadCustomizationConfig","MessagingThreadCustomizationSource","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogFooter.react","MessengerDialogHeader.react","MessengerTextWithEmojiInput.react","MercuryThreadActions","React","SimpleXUIDialog"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MercuryThreadActions").get(),j=400;a={show:function(a,c,d,e,f){var g=null,i=b("MercuryIDs").getUserIDFromParticipantID(c.id);i=i===e?h._("Edit your nickname"):h._("Edit nickname for {personName}",[h._param("personName",c.name)]);e=b("React").createElement("div",{className:"_2c1u"},b("React").createElement(b("MessengerDialogHeader.react"),null,i));i=b("React").createElement("div",{className:"_2c1u"},b("React").createElement("div",{className:"_21g-"},b("React").createElement("div",{className:"_-bo"},h._("Everyone in this conversation will see this.")),b("React").createElement(b("MessengerTextWithEmojiInput.react"),{className:"_2c1v",initialValue:d,onReturn:function(){return this._handleSave(g,a,c,d)}.bind(this),maxLength:b("MessagingThreadCustomizationConfig").maxNicknameLength,placeholder:c.name})));var k=b("React").createElement("div",{className:"_2c1u"},b("React").createElement(b("MessengerDialogFooter.react"),null,b("React").createElement(b("MessengerDialogCancelButton.react"),null),b("React").createElement(b("MessengerDialogButton.react"),{label:h._("Save"),onClick:function(){return this._handleSave(g,a,c,d)}.bind(this),type:"primary"})));g=b("SimpleXUIDialog").showEx(i,e,k,null,{NICKNAME_DIALOG_WIDTH:j,causalElement:f})},_handleSave:function(a,c,d,e){if(!a)return;var f=a._reactContainer.querySelector("[data-text]").textContent;f!==e&&i.changeThreadNicknames(c,b("MercuryIDs").getUserIDFromParticipantID(d.id),f,b("MessagingThreadCustomizationSource").SETTINGS);a.hide()}};e.exports=a}),null);
__d("EditChatTabNicknamesDialog",["cx","fbt","EditChatTabNicknameDialog","ImmutableObject","MercuryIDs","MessengerAdminGroupUtils","MessengerContactList.react","MessengerDialogHeader.react","MessengerDialogTitle.react","MessengerParticipants.bs","MessengerScrollableArea.react","React","SimpleXUIDialog","XUIDialogCancelButton.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=200,j=350;a={show:function(a,c,d){__p&&__p();var e=null,f=b("immutable").Map().withMutations(function(d){if(!a)return;a.participants&&a.participants.forEach(function(a){d.set(a,b("MessengerParticipants.bs").getNow(a))});a.is_subscribed&&d.set(b("MercuryIDs").getParticipantIDFromUserID(c),b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(c)))}),g=b("MessengerAdminGroupUtils").isJoinableThread(a);f=f.filter(function(a){if(!a)return!1;a=b("MercuryIDs").getUserIDFromParticipantID(a.id);return g&&a===c||!g}).toArray();var k=b("React").createElement("div",{className:"_4h9n"},b("React").createElement(b("MessengerDialogHeader.react"),null,b("React").createElement(b("MessengerDialogTitle.react"),null,h._("Edit nicknames"))));f=b("React").createElement("div",{className:"_4h9n"},b("React").createElement("div",{className:"_4h9o"},b("React").createElement(b("MessengerContactList.react"),{contactAdapter:function(b){return this._fromMercuryParticipant(b,a)}.bind(this),disableRole:!0,listSections:b("immutable").OrderedMap([[null,f]]),onSelect:function(b){e&&e.hide(),setTimeout(function(){return this._handleContactSelect(b,a,c)}.bind(this),i)}.bind(this),rowClassName:"_44kr",viewer:c,thread:a})));var l=b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null));e=b("SimpleXUIDialog").showEx(f,k,l,null,{NICKNAME_DIALOG_WIDTH:j,causalElement:d})},_handleContactSelect:function(a,c,d){var e,f=b("MercuryIDs").getUserIDFromParticipantID(a.id);f=((e=c)!=null?(e=e.custom_nickname)!=null?e[f]:e:e)||"";e=c.thread_id;b("EditChatTabNicknameDialog").show(e,a,f,d,this.linkRef)},_fromMercuryParticipant:function(a,c){var d=b("MercuryIDs").getUserIDFromParticipantID(a.id),e=a.name,f="";c.custom_nickname&&c.custom_nickname[d]&&(e=c.custom_nickname[d],f=a.name);return new(b("ImmutableObject"))({alias:a.alias,uid:a.id,photo:a.image_src,title:e,subtitle:f,type:a.type,isMessengerUser:a.is_messenger_user,href:a.href})}};e.exports=a}),null);
__d("WebMessengerDeleteThreadDialog",["fbt","React","SimpleXUIDialog","MercuryThreadActions","XUIDialogButton.react","XUIDialogCancelButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MercuryThreadActions").get();a={show:function(a,c,d,e){var f=g._("Delete This Entire Conversation?"),i=g._("Once you delete your copy of this conversation, it cannot be undone."),j=b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null),b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:g._("Delete Conversation"),use:"confirm",onClick:function(){h["delete"](a),c&&c()}}));b("SimpleXUIDialog").showEx(i,f,j,d,{causalElement:e})}};e.exports=a}),null);
__d("ChatDialogConfirmationButtons.react",["fbt","React","XUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={confirmActionIndex:null},this.$1=function(a){a=this.props.buttons;var b=this.state.confirmActionIndex;if(!!b||b===0){this.setState({confirmActionIndex:null});a=a[b];a&&a.onClick()}}.bind(this),this.$2=function(){this.setState({confirmActionIndex:null})}.bind(this),b}a.prototype.render=function(){__p&&__p();var a=this.props.buttons,c=this.state.confirmActionIndex,d=g._("Are You Sure?"),e=g._("Cancel");if(!!c||c===0)return b("React").createElement("span",null,b("React").createElement(b("XUIButton.react"),{key:"confim",label:d,onClick:this.$1,use:"confirm"},d),b("React").createElement(b("XUIButton.react"),{key:"cancel",label:e,onClick:this.$2},e));else return a.map(function(a,c){var d=a.label,e=a.onClick;a=a.requiresConfirmation;if(a)return b("React").createElement(b("XUIButton.react"),{key:"button-requiresConfirmation-"+c,label:d,onClick:function(){this.$3(c)}.bind(this)},d);else return b("React").createElement(b("XUIButton.react"),{key:"button-"+c,label:d,onClick:e},d)}.bind(this))};a.prototype.$3=function(a){this.setState({confirmActionIndex:a})};e.exports=a}),null);
__d("ChatGroupMembershipAdminTab.react",["cx","fbt","ChatDetailStack.react","ChatDialogConfirmationButtons.react","CurrentUser","FacepileRounded.react","MercuryIDs","MercuryThreadActions","MessengerAdminGroupUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MercuryThreadActions").get(),k=50;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.admins,d=a.participants,e=a.thread,f=h._("Remove as admin");a=d.filter(function(a){return b("MessengerAdminGroupUtils").isAdmin(c,a.id)});var g=b("MessengerAdminGroupUtils").isAdmin(c,b("CurrentUser").getID());d=a.reduce(function(a,d){var h="",i=d.id,j=b("MercuryIDs").getUserIDFromParticipantID(i);j=e&&b("MessengerAdminGroupUtils").canRemoveAdmin(g,!0,c[j],e);h=b("React").createElement("li",{className:"_2ll0 _2pi3",key:i},b("React").createElement("div",{className:"_3-8s"},b("React").createElement(b("FacepileRounded.react"),{imageSize:k,profiles:[{image_src:d.image_src,name:d.name}]})),b("React").createElement(b("ChatDetailStack.react"),{bottomDetail:h,topDetail:d.name}),j?b("React").createElement("div",null,b("React").createElement(b("ChatDialogConfirmationButtons.react"),{buttons:[{label:f,onClick:function(){this.$1(i)}.bind(this),requiresConfirmation:!0}]})):null);i===b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID())?a.unshift(h):a.push(h);return a}.bind(this),[]);return b("React").createElement("ul",null,d)};a.prototype.$1=function(a){j.changeGroupAdmins(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID),[b("MercuryIDs").getUserIDFromParticipantID(a)],!1)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("ChatGroupMembershipMembersTab.react",["cx","fbt","ChatDetailStack.react","ChatDialogConfirmationButtons.react","CurrentUser","FacepileRounded.react","MercuryIDs","MercuryThreadActions","MessengerAdminGroupUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MercuryThreadActions").get(),k=50;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$2=function(){j.leaveGroup(this.props.threadID)}.bind(this),b}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.admins,d=a.participants,e=a.thread,f=h._("Remove"),g=h._("Make Admin"),i=h._("Leave Group"),j=b("CurrentUser").getID(),l=b("MessengerAdminGroupUtils").isAdmin(c,j),m=Object.keys(c).length===0;a=d.reduce(function(a,d){__p&&__p();var n=d.id,o=b("MercuryIDs").getUserIDFromParticipantID(n),p=b("MessengerAdminGroupUtils").isAdmin(c,n),q=o===j;o=c&&e&&b("MessengerAdminGroupUtils").canRemoveFromGroup(l,c[o],e);var r=p?h._("Admin"):null,s=[];p=l&&!p;var t=q&&m;(p||t)&&s.push({label:g,onClick:function(){this.$1(n)}.bind(this),requiresConfirmation:!0});q?s.push({label:i,onClick:this.$2,requiresConfirmation:!0}):o&&s.push({label:f,onClick:function(){this.$3(n)}.bind(this),requiresConfirmation:!0});p=b("React").createElement("li",{className:"_33zx _2pi3",key:n},b("React").createElement("div",{className:"_3-8s"},b("React").createElement(b("FacepileRounded.react"),{imageSize:k,profiles:[{image_src:d.image_src,name:d.name}]})),b("React").createElement(b("ChatDetailStack.react"),{bottomDetail:r,topDetail:d.name}),b("React").createElement("div",null,b("React").createElement(b("ChatDialogConfirmationButtons.react"),{buttons:s})));n===b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID())?a.unshift(p):a.push(p);return a}.bind(this),[]);return b("React").createElement("ul",null,a)};a.prototype.$3=function(a){j.removeFromGroup(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID),b("MercuryIDs").getUserIDFromParticipantID(a))};a.prototype.$1=function(a){j.changeGroupAdmins(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID),[b("MercuryIDs").getUserIDFromParticipantID(a)],!0)};e.exports=a}),null);
__d("ChatGroupMembershipRequestSetting.react",["cx","fbt","ChatDialogConfirmationButtons.react","MercuryThreadActions","MessengerApprovalModeTypes","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MercuryThreadActions").get();c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=this.props.thread,c=a.approval_mode===b("MessengerApprovalModeTypes").APPROVALS;j.setApprovalMode(c?b("MessengerApprovalModeTypes").OPEN:b("MessengerApprovalModeTypes").APPROVALS,a)}.bind(this),c}a.prototype.render=function(){var a=this.props.thread;a=a.approval_mode===b("MessengerApprovalModeTypes").APPROVALS;var c=a?h._("Admin approval: ON"):h._("Admin approval: OFF");a=a?h._("Turn off"):h._("Turn on");return b("React").createElement("div",{className:"_32ly",key:"requestSettings"},b("React").createElement("div",{className:"_32lz"},c,b("React").createElement(b("ChatDialogConfirmationButtons.react"),{buttons:[{label:a,onClick:this.$1,requiresConfirmation:!0}]})),b("React").createElement("div",{className:"_32l- _2pi2"},h._("Admins can approve new people who are added by non-admins or people who are invited to join the group.")))};e.exports=a}),null);
__d("ChatGroupMembershipRequestTab.react",["cx","fbt","ChatDetailStack.react","ChatDialogConfirmationButtons.react","ChatGroupMembershipRequestSetting.react","CurrentUser","FacepileRounded.react","MercuryIDs","MessengerApprovalModeTypes","MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation","React","WebGraphQL","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=50;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.membershipParticipants,d=a.thread,e=a.threadID;a=d&&d.approval_mode===b("MessengerApprovalModeTypes").APPROVALS;var f=d?d.group_approval_queue:[];a=a&&f&&f.length&&c?f.reduce(function(a,d){__p&&__p();var f=d.inviter,g=d.requester;d=c.find(function(a){return a.fbid===f.id});var i=c.find(function(a){return a.fbid===g.id});if(!i)return a;var k=[{label:h._("Approve"),onClick:function(){this.$1(e,g.id)}.bind(this),requiresConfirmation:!0},{label:h._("Ignore"),onClick:function(){this.$2(e,g.id)}.bind(this),requiresConfirmation:!0}];d=d?h._("Invited by {inviter name}",[h._param("inviter name",d.name)]):null;a.push(b("React").createElement("li",{className:"_4y_j _2pi3",key:g.id},b("React").createElement("div",{className:"_3-8s"},b("React").createElement(b("FacepileRounded.react"),{imageSize:j,profiles:[{image_src:i.image_src,name:i.name}]})),b("React").createElement(b("ChatDetailStack.react"),{bottomDetail:d,topDetail:i.name}),b("React").createElement("div",null,b("React").createElement(b("ChatDialogConfirmationButtons.react"),{buttons:k}))));return a}.bind(this),[]):null;f=d?b("React").createElement(b("ChatGroupMembershipRequestSetting.react"),{key:"requestSettings",thread:d}):null;return[f,b("React").createElement("ul",{key:"requestSection"},a)]};a.prototype.$1=function(a,c){b("WebGraphQL").exec(new(b("MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation"))({data:{client_mutation_id:"0",actor_id:b("CurrentUser").getID(),thread_fbid:b("MercuryIDs").getThreadFBIDFromThreadID(a),user_ids:[c],response:"ACCEPT",surface:"WEB_ADMIN_MODEL_APPROVAL_CENTER"}}))};a.prototype.$2=function(a,c){b("WebGraphQL").exec(new(b("MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation"))({data:{client_mutation_id:"0",actor_id:b("CurrentUser").getID(),thread_fbid:b("MercuryIDs").getThreadFBIDFromThreadID(a),user_ids:[c],response:"DENY",surface:"WEB_ADMIN_MODEL_APPROVAL_CENTER"}}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("ChatGroupMembershipDialog.react",["ChatGroupMembershipAdminTab.react","ChatGroupMembershipMembersTab.react","ChatGroupMembershipRequestTab.react","CurrentUser","LayerFadeOnHide","React","XUIDialog.react","XUIDialogBody.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={selectedTab:"chatGroupMembershipMembers"},this.$1=function(a){this.setState({selectedTab:a})}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.thread,d=a.threadID,e=a.participants;a=a.membershipParticipants;var f=c&&c.admins||{},g=Object.keys(f).length>0,h=f[b("CurrentUser").getID()]!==undefined,i=g?h?this.$2():this.$3():this.$4(),j=b("React").createElement(b("ChatGroupMembershipMembersTab.react"),{admins:f,participants:e,thread:c,threadID:d});this.state.selectedTab==="chatGroupMembershipAdmins"&&g?j=b("React").createElement(b("ChatGroupMembershipAdminTab.react"),{admins:f,participants:e,thread:c,threadID:d}):this.state.selectedTab==="chatGroupMembershipRequests"&&h&&(j=b("React").createElement(b("ChatGroupMembershipRequestTab.react"),{membershipParticipants:a,participants:e,thread:c,threadID:d}));return b("React").createElement(b("XUIDialog.react"),{shown:this.props.dialogShown,behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},onHide:this.props.onHide,isStrictlyControlled:!0,label:"Membership",width:445},i,b("React").createElement(b("XUIDialogBody.react"),null,j))};a.prototype.$3=function(){return b("React").createElement(b("XUIDialogHeader.react"),{activeTabKey:this.state.selectedTab,onTabClick:this.$1},b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipMembers"},b("React").createElement("span",{id:"chatGroupMembershipMembers"},"Members")),b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipAdmins"},b("React").createElement("span",{id:"chatGroupMembershipAdmins"},"Admins")))};a.prototype.$4=function(){return b("React").createElement(b("XUIDialogHeader.react"),{activeTabKey:this.state.selectedTab,onTabClick:this.$1},b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipMembers"},b("React").createElement("span",{id:"chatGroupMembershipMembers"},"Members")))};a.prototype.$2=function(){return b("React").createElement(b("XUIDialogHeader.react"),{activeTabKey:this.state.selectedTab,onTabClick:this.$1},b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipMembers"},b("React").createElement("span",{id:"chatGroupMembershipMembers"},"Members")),b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipAdmins"},b("React").createElement("span",{id:"chatGroupMembershipAdmins"},"Admins")),b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipRequests"},b("React").createElement("span",{id:"chatGroupMembershipRequests"},"Membership Requests")))};e.exports=a}),null);
__d("CustomizeThreadDialogGated.react",["CustomizeThreadDialog","React"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CustomizeThreadDialog").Dialog;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return!h?null:b("React").createElement(h,this.props)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FantaDropdownMenuWebDriverTestIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FANTA_DROPDOWN_MENU:"fanta_dropdown_menu",FANTA_DROPDOWN_MENU_ICON:"fanta_dropdown_menu_icon",LOG_MESSAGE_TEXT:"log_message_text",ADD_FRIENDS:"fanta_dropdown_menu_add_friends",BLOCK:"fanta_dropdown_menu_block",BLOCK_PAGE_MESSAGES:"fanta_dropdown_menu_block_page_messages",CHANGE_COLOR:"fanta_dropdown_menu_change_color",CHANGE_EMOJI:"fanta_dropdown_menu_change_emoji",CONVERSATION_NAME:"fanta_dropdown_menu_conversation_name",CREATE_EVENT:"fanta_dropdown_menu_create_event",CREATE_GROUP:"fanta_dropdown_menu_create_group",DELETE_CONVERSATION:"fanta_dropdown_menu_delete_conversation",EDIT_NICKNAME:"fanta_dropdown_menu_edit_nickname",IGNORE_MESSAGES:"fanta_dropdown_menu_ignore_messages",LEAVE_CONVERSATION:"fanta_dropdown_menu_leave_conversation",LEAVE_FEEDBACK:"fanta_dropdown_menu_leave_feedback",MUTE_CONVERSATION:"fanta_dropdown_menu_mute_conversation",OPEN_FACEBOOK_PAGE:"fanta_dropdown_menu_open_facebook_page",OPEN_FULL_CONVERSATION:"fanta_dropdown_menu_open_full_conversation",PEOPLE_LIST:"fanta_dropdown_menu_people_list",REPORT:"fanta_dropdown_menu_report",MUTE_CONVERSATION_TEXT:"fanta_dropdown_menu_mute_conversation_text"})}),null);
__d("FantaDropdownMenuAddFriends",["ix","cx","fbt","Bootloader","ChatConfig","FantaDropdownMenuWebDriverTestIDs","FantaTabSheetActions","Image.react","MessengerConfig","React","asset","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c,d,e,f){if(b("getPageIDFromThreadID")(c)||d&&!e||f)return null;a=e?i._("Add people"):i._("Create group");return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").ADD_FRIENDS},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637973")}):null,b("React").createElement("span",{className:"_6ng4"},a))}function k(a,c,d,e){return function(){c&&!c.is_canonical&&b("MessengerConfig").CTPOAPD?b("Bootloader").loadModules(["MessengerDialogs.bs","MessengerAddToConversationDialogReact.bs"],function(d,e){var f=e.jsComponent;d.showDialog(function(){return b("React").createElement(f,{viewer:a,thread:c})})},"FantaDropdownMenuAddFriends"):b("FantaTabSheetActions").openAddMoreFriendsSheet(d),l(e)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.ADD_FRIENDS,a)},"FantaDropdownMenuAddFriends")}function a(a,b,c,d,e,f,g){d=j(b,c,d,e,f);return d?{type:"item",label:d,onClick:k(a,b,c,g)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuBlock",["ix","cx","fbt","Bootloader","ChatConfig","CurrentUser","FantaDropdownMenuWebDriverTestIDs","FantaTabActions","Image.react","MercuryIDs","MessagingTag","React","MercuryThreadActions","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadActions").get();function k(a,c,d){return!a&&!c&&!d&&!b("CurrentUser").isWorkUser()}function l(a,b){return!a&&!!b}function m(a,c,d,e,f,h){c=b("MercuryIDs").getUserIDFromThreadID(c);f=f&&f.message_count===0;if(h||c&&c===a)return null;var j;k(e,d,f)&&(j=i._("Block"));l(e,d)&&(j=i._("Unblock"));return j?b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").BLOCK},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637979")}):null,b("React").createElement("span",{className:"_6ng4"},j)):null}function n(a,c){return function(){b("Bootloader").loadModules(["WebMessengerConfirmBlockDialog"],function(a){a.show()},"FantaDropdownMenuBlock");var d=b("MercuryIDs").getThreadKeyfromThreadIDUserID(c,a);j.changeFolder(c,b("MessagingTag").OTHER);b("FantaTabActions").closeTab(c);b("Bootloader").loadModules(["MessengerMessageRequestsTypedLogger"],function(a){new a().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(c)).setSurface("thread").setFolderType(b("MessagingTag").INBOX).setThreadKey(d).setEntryPoint(null).log()},"FantaDropdownMenuBlock")}}function o(a,b,c){if(k())return function(){j.blockMessages(b,n(a,b)),p(c,!0)};return l()?function(){j.unblockMessages(b),p(c,!1)}:null}function p(a,c){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,d){b.logMenuItem(c?d.OPTIONS.BLOCK:d.OPTIONS.UNBLOCK,a)},"FantaDropdownMenuBlock")}function a(a,b,c,d,e,f,g){c=m(a,b,c,d,e,f);d=o(a,b,g);return c&&d?{type:"item",label:c,onClick:d}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuBlockPageMessages",["ix","cx","fbt","Bootloader","ChatConfig","CurrentUser","FantaDropdownMenuWebDriverTestIDs","Image.react","ImmutableObject","MercuryServerPayloadPreprocessor","React","MercuryThreadActions","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadActions").get();function k(a){a=a?i._("Turn on messages"):i._("Turn off messages");return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").BLOCK_PAGE_MESSAGES},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("640714")}):null,b("React").createElement("span",{className:"_6ng4"},a))}function l(a,c,d){if(!c)return;c=b("ImmutableObject").set(c,{is_messenger_blocked:d});d={participants:[c]};b("MercuryServerPayloadPreprocessor").getForFBID(a).handleUpdate(d)}function m(a,b,c,d,e){return d?function(){j.unblockOnMessengerDotCom(b),l(a,c,!1),n(e,!1)}:function(){j.blockOnMessengerDotCom(b),l(a,c,!0),n(e,!0)}}function n(a,c){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,d){b.logMenuItem(c?d.OPTIONS.BLOCK_PAGE_MESSAGES:d.OPTIONS.UNBLOCK_PAGE_MESSAGES,a)},"FantaDropdownMenuBlockPageMessages")}function a(a,c,d,e){if(!c||!d||b("CurrentUser").isWorkUser())return null;var f=d.is_messenger_blocked;return{type:"item",label:k(f),onClick:m(a,c,d,f,e)}}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuChangeColor",["ix","cx","fbt","AARRGGBBColor","Bootloader","ChatConfig","CustomizeTabs","FantaDropdownMenuWebDriverTestIDs","Image.react","MercuryIDs","MessengerAdminGroupUtils","MessengerColors","MessengerState.bs","React","asset","getPageIDFromThreadID","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("CustomizeTabs").CustomizeTitleEnum,k="196241301102133";function l(a,c){var d=null,e=a&&a.theme_id||k;c.forEach(function(c){a&&c.id==e&&(d=b("React").createElement("div",{className:"_6ng3","aria-label":c.accessibility_label,style:{backgroundColor:b("AARRGGBBColor").toHex(c.fallback_color),backgroundImage:Array.isArray(c.gradient_colors)?b("MessengerColors").makeRadialGradient(c.gradient_colors.map(b("AARRGGBBColor").toHex),c.is_reversed_for_picker||!1):null,display:"inline-block",borderRadius:"50%"}}))});return d}function m(a,c,d,e){__p&&__p();if(b("getPageIDFromThreadID")(d))return null;d=b("MercuryIDs").getUserIDFromParticipantID("fbid:"+a);a=c&&d&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(c,d);if(a&&b("ChatConfig").get("chat_tab_custom_color")){d=b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("638009")});a=b("gkx")("AT5P41pr7BDnjiOgbStpHA_i7Cn6sNmQTUBmLPCEePGMUzzc1H0XlI9pcb9hHfQ4BcDluF-cNEK1JTZw1H2bIykG")?l(c,e)||d:d;return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").CHANGE_COLOR},b("ChatConfig").get("show_icons")?a:null,b("React").createElement("span",{className:"_6ng4"},i._("Color")))}return null}function n(a,c,d,e,f){return function(){if(b("MessengerState.bs").isEmptyLocalThread(a,d)||!c){o(f);return}b("gkx")("AT5P41pr7BDnjiOgbStpHA_i7Cn6sNmQTUBmLPCEePGMUzzc1H0XlI9pcb9hHfQ4BcDluF-cNEK1JTZw1H2bIykG")?e(j.COLOR):b("Bootloader").loadModules(["ChangeChatTabColorDialog"],function(a){a.show(c)},"FantaDropdownMenuChangeColor");o(f)}}function o(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.CHANGE_COLOR,a)},"FantaDropdownMenuChangeColor")}function a(a,b,c,d,e,f){if(!e)return null;e=m(a,b,c,e);return e?{type:"item",label:e,onClick:n(a,b,c,d,f)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuChangeEmoji",["ix","cx","fbt","Bootloader","ChatConfig","CustomizeTabs","EmojiLikeConstants","FantaDropdownMenuWebDriverTestIDs","Image.react","MessengerAdminGroupUtils","MessengerHotLikeUtils","MessengerState.bs","MessengerSupportedEmojiUtils","React","asset","getPageIDFromThreadID","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("CustomizeTabs").CustomizeTitleEnum,k=128077;function l(a,c,d){__p&&__p();if(b("getPageIDFromThreadID")(d)||!b("gkx")("AT5P41pr7BDnjiOgbStpHA_i7Cn6sNmQTUBmLPCEePGMUzzc1H0XlI9pcb9hHfQ4BcDluF-cNEK1JTZw1H2bIykG"))return null;d=c&&a&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(c,a);if(d&&b("ChatConfig").get("chat_tab_custom_color")){a=b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637960")});d=b("MessengerHotLikeUtils").getCustomEmojiFromThread(c);c=d&&d.emoji||String.fromCodePoint(k);d=b("MessengerSupportedEmojiUtils").getNewEmojiData(c,b("EmojiLikeConstants").size.XSMALL);d&&(a=b("React").createElement(b("Image.react"),{className:"_6ng3",src:d.url,alt:m(c)}));return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").CHANGE_EMOJI},b("ChatConfig").get("show_icons")?a:null,b("React").createElement("span",{className:"_6ng4"},i._("Emoji")))}return null}function m(a){return i._("{selected custom emoji}",[i._param("selected custom emoji",a)])}function n(a,c,d,e,f){return function(){if(b("MessengerState.bs").isEmptyLocalThread(a,d)||!c){o(f);return}e(j.EMOJI);o(f)}}function o(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.CHANGE_EMOJI,a)},"FantaDropdownMenuChangeEmoji")}function a(a,b,c,d,e){var f=l(a,b,c);return f?{type:"item",label:f,onClick:n(a,b,c,d,e)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuConversationName",["ix","cx","fbt","Bootloader","ChatConfig","FantaDropdownMenuWebDriverTestIDs","FantaTabSheetActions","Image.react","MessengerAdminGroupUtils","MessengerState.bs","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c,d,e,f){d=d&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(d,f)&&a&&!b("MessengerState.bs").isEmptyLocalThread(f,e)&&!c;return!d?null:b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").CONVERSATION_NAME},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("638019")}):null,b("React").createElement("span",{className:"_6ng4"},i._("Conversation name")))}function k(a,c){return function(){b("FantaTabSheetActions").openNameConversationSheet(a),l(c)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.CONVERSATION_NAME,a)},"FantaDropdownMenuConversationName")}function a(a,b,c,d,e,f){a=j(a,b,c,d,e);return a!==null?{type:"item",label:a,onClick:k(d,f)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuCreateEvent",["ix","cx","fbt","AsyncRequest","Bootloader","ChatConfig","CurrentUser","FantaDropdownMenuWebDriverTestIDs","Image.react","MercuryIDs","React","XEventCreateDialogController","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(){return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").CREATE_EVENT},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637945")}):null,b("React").createElement("span",{className:"_6ng4"},i._({"Workplace":"Create Workplace event","Facebook":"Create Facebook event"},[i._enum(b("CurrentUser").isWorkUser()?"Workplace":"Facebook",{Workplace:"Workplace",Facebook:"Facebook"})])))}function k(a,c){return function(){if(a&&!a.is_canonical){var d=a.participants.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)}).filter(Boolean);b("Bootloader").loadModules(["AsyncDialog"],function(a){var c=b("XEventCreateDialogController").getURIBuilder().setString("acontext",JSON.stringify({})).setIntVector("invite_ids",d).getURI();a.send(new(b("AsyncRequest"))(c))},"FantaDropdownMenuCreateEvent")}l(c)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.CREATE_EVENT,a)},"FantaDropdownMenuCreateEvent")}function a(a,b,c){return b===!0?{type:"item",label:j(),onClick:k(a,c)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuCreateGroup",["ix","cx","fbt","AsyncDialog","AsyncRequest","Bootloader","ChatConfig","CurrentUser","FantaDropdownMenuWebDriverTestIDs","Image.react","MercuryIDs","MessengerState.bs","React","XGroupsCreateGroupGetDialogAsyncController","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(){return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").CREATE_GROUP},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637920")}):null,b("React").createElement("span",{className:"_6ng4"},i._({"Workplace":"Create Workplace group","Facebook":"Create Facebook group"},[i._enum(b("CurrentUser").isWorkUser()?"Workplace":"Facebook",{Workplace:"Workplace",Facebook:"Facebook"})])))}function k(a,c,d){__p&&__p();return function(){b("MessengerState.bs").getThreadMeta(a,c,function(a){if(a&&!a.is_canonical){var c=b("XGroupsCreateGroupGetDialogAsyncController").getURIBuilder().setString("ref","web_messenger_dock"),d=a.participants.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)}).filter(Boolean);c.setFBIDKeyset("members",d);a.name&&c.setString("name",a.name);d=c.getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(d))}},null),l(d)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.CREATE_GROUP,a)},"FantaDropdownMenuCreateGroup")}function a(a,b,c,d){return c?{type:"item",label:j(),onClick:k(a,b,d)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuDeleteConversation",["ix","cx","fbt","Bootloader","ChatConfig","FantaDropdownMenuWebDriverTestIDs","FantaTabActions","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(){return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").DELETE_CONVERSATION},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("638027")}):null,b("React").createElement("span",{className:"_6ngn"},i._("Delete conversation")))}function k(a,c){return function(){b("Bootloader").loadModules(["WebMessengerDeleteThreadDialog"],function(c){c.show(a,function(){return b("FantaTabActions").deleteTab(a)},null)},"FantaDropdownMenuDeleteConversation"),l(c)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.DELETE_CONVERSATION,a)},"FantaDropdownMenuDeleteConversation")}function a(a,b){return{type:"item",label:j(),onClick:k(a,b)}}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuEditNickname",["ix","cx","fbt","Bootloader","ChatConfig","FantaDropdownMenuWebDriverTestIDs","Image.react","MessengerAdminGroupUtils","MessengerState.bs","React","asset","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c){if(b("getPageIDFromThreadID")(c))return!1;c=b("MessengerState.bs").getThreadMetaNow(a,c);c=c&&c.participants&&a&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(c,a);return!!c}function k(a,c){return!j(a,c)?null:b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").EDIT_NICKNAME},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("638019")}):null,b("React").createElement("span",{className:"_6ng4"},i._("Nicknames")))}function l(a,c,d){return function(){if(b("MessengerState.bs").isEmptyLocalThread(a,c)){m(d);return}a&&b("Bootloader").loadModules(["EditChatTabNicknamesDialog"],function(d){d.show(b("MessengerState.bs").getThreadMetaNow(a,c),a)},"FantaDropdownMenuEditNickname");m(d)}}function m(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.EDIT_NICKNAME,a)},"FantaDropdownMenuEditNickname")}function a(a,b,c){var d=k(a,b);return d?{type:"item",label:d,onClick:l(a,b,c)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuFunnelState",[],(function(a,b,c,d,e,f){"use strict";function a(){this.$1=Math.floor(Math.random()*65536)}a.prototype.getInstanceID=function(){return this.$1};e.exports=a}),null);
__d("FantaDropdownMenuIgnoreMessages",["ix","cx","fbt","Bootloader","ChatConfig","CurrentUser","FantaDropdownMenuWebDriverTestIDs","Image.react","MercuryIDs","React","MercuryThreadActions","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadActions").get();function k(a,c,d,e){c=b("MercuryIDs").getUserIDFromThreadID(c);return e||c&&c===a||d||b("CurrentUser").isWorkUser()?null:b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").IGNORE_MESSAGES},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("638034")}):null,b("React").createElement("span",{className:"_6ng4"},i._("Ignore messages")))}function l(a,c,d){return function(){j.ignoreMessages(c?b("MercuryIDs").getThreadFBIDFromThreadID(a):b("MercuryIDs").getUserIDFromThreadID(a)),m(d)}}function m(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.IGNORE_MESSAGES,a)},"FantaDropdownMenuIgnoreMessages")}function a(a,b,c,d,e,f){a=k(a,b,c,e);return a?{type:"item",label:a,onClick:l(b,d,f)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuLeaveConversation",["ix","cx","fbt","Bootloader","ChatConfig","Dialog","FantaDropdownMenuWebDriverTestIDs","FantaTabActions","Image.react","MercuryLogMessageType","MercuryMessageObject","MercurySourceType","MercuryMessageActions","MessengerState.bs","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryMessageObject").get(),k=b("MercuryMessageActions").get();function l(){return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").LEAVE_CONVERSATION},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637999")}):null,b("React").createElement("span",{className:"_6ng4"},i._("Leave group")))}function m(a,c,d,e){return function(){var f=[];f.push({name:"unsubscribe",label:i._("Leave Conversation"),handler:function(){return n(c,d)}});f.push(b("Dialog").CANCEL);var g;a&&a.admins&&a.admins[d]!==undefined?g=i._("Leaving this group will remove you as an owner and allow other members to manage the group. You will no longer be able to send and receive messages."):g=i._("You will stop receiving messages from this conversation and people will see that you left.");new(b("Dialog"))().setTitle(i._("Leave conversation?")).setBody(g).setButtons(f).show();o(e)}}function n(a,c){if(!b("MessengerState.bs").isEmptyLocalThread(c,a)){c=j.constructLogMessageObject(b("MercurySourceType").CHAT_WEB,a,b("MercuryLogMessageType").UNSUBSCRIBE,{removed_participants:[c]});k.send(c)}b("FantaTabActions").closeTab(a);return!0}function o(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.LEAVE_CONVERSATION,a)},"FantaDropdownMenuLeaveConversation")}function a(a,b,c,d,e){return a===!0?{type:"item",label:l(),onClick:m(b,c,d,e)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuLeaveFeedback",["ix","cx","fbt","Bootloader","ChatConfig","FantaDropdownMenuWebDriverTestIDs","Image.react","MercuryIDs","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a){return!a?null:b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").LEAVE_FEEDBACK},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("640754")}):null,b("React").createElement("span",{className:"_6ng4"},i._("Send feedback")))}function k(a,c){__p&&__p();return function(){__p&&__p();var d=function(a,d,e){if(d===0){l(c);return}b("Bootloader").loadModules(["MessengerPlatformBotReviewWriteDataManager"],function(b){b.review(a,d,e.trim())},"FantaDropdownMenuLeaveFeedback")},e=b("MercuryIDs").getUserIDFromThreadID(a);b("Bootloader").loadModules(["MNCommerceDialogStateActions","MNCommerceReviewDialogContainer.react"],function(a,b){a.showDialog(b,{pageID:e,onConfirmButtonClick:d})},"FantaDropdownMenuLeaveFeedback");l(c)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.LEAVE_FEEDBACK,a)},"FantaDropdownMenuLeaveFeedback")}function a(a,b,c){b=j(b);return b!==null?{type:"item",label:b,onClick:k(a,c)}:null}e.exports={getMenuItem:a}}),null);
__d("MercuryThreadMuter",["AsyncDialog","AsyncRequest","DOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={showMuteChangeDialog:function(a,c,d){b("AsyncDialog").send(new(b("AsyncRequest"))("/ajax/mercury/mute_thread_dialog.php").setRelativeTo(c),function(c){c.subscribe("confirm",function(){this.hide();var c;b("DOM").scry(this.getRoot(),'input[type="radio"]').forEach(function(a){a.checked&&(c=a.value)});c=g.convertRawMuteSetting(c);d(a,c)}.bind(c))})},convertRawMuteSetting:function(a){switch(a){case"always":return-1;case"30minutes":return 1800;case"1hour":return 3600;case"8hours":return 8*3600;case"24hours":return 24*3600;default:return 0}}};e.exports=g}),null);
__d("FantaDropdownMenuMuteConversation",["ix","cx","fbt","Bootloader","ChatConfig","FantaDropdownMenuWebDriverTestIDs","Image.react","MercuryThreadInfo","MercuryThreadMuter","React","formatDate","MercuryThreadActions","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadActions").get();function k(a){if(a>0)if(a<86401)return null;else{var c=new Date(a*1e3).getDay()===new Date().getDay();return c?i._("Off until {time}",[i._param("time",b("formatDate")(a,"g:ia"))]):i._("Off until {time} tomorrow",[i._param("time",b("formatDate")(a,"g:ia"))])}else return i._("Off indefinitely")}function l(a,c,d){c=a&&a.mute_until?k(a.mute_until):null;a=d?b("React").createElement("span",{className:"_6ng4","data-testid":b("FantaDropdownMenuWebDriverTestIDs").MUTE_CONVERSATION_TEXT},i._("Unmute conversation")):b("React").createElement("span",{className:"_6ng4","data-testid":b("FantaDropdownMenuWebDriverTestIDs").MUTE_CONVERSATION_TEXT},i._("Mute conversation"));c&&(a=b("React").createElement("div",null,b("React").createElement("span",{className:"_6ng4","data-testid":b("FantaDropdownMenuWebDriverTestIDs").MUTE_CONVERSATION_TEXT},i._("Unmute conversation")),b("React").createElement("span",{className:"_6ng7"},c)));return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").MUTE_CONVERSATION},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:d?g("637933"):g("637938")}):null,a)}function m(a,c,d,e,f){function g(a,b){j.updateMuteSetting(a,b)}function a(){j.unmute(d),n(f,!1)}function c(){b("MercuryThreadMuter").showMuteChangeDialog.call(null,d,undefined,g),n(f,!0)}return e?a:c}function n(a,c){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,d){b.logMenuItem(c?d.OPTIONS.MUTE_CONVERSATION:d.OPTIONS.UNMUTE_CONVERSATION,a)},"FantaDropdownMenuMuteConversation")}function a(a,c,d,e){var f=!!c&&b("MercuryThreadInfo").isMuted(c);return{type:"item",label:l(c,d,f),onClick:m(a,c,d,f,e)}}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuOpenFacebookPage",["ix","cx","fbt","Bootloader","ChatConfig","FantaDropdownMenuWebDriverTestIDs","Image.react","React","asset","goURI"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(){return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").OPEN_FACEBOOK_PAGE},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("641100")}):null,b("React").createElement("span",{className:"_6ng4"},i._("View page")))}function k(a,c){return function(){a!=null&&b("goURI")(a),l(c)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.OPEN_FACEBOOK_PAGE,a)},"FantaDropdownMenuOpenFacebookPage")}function a(a,b,c){return a&&b&&b.href!=null?{type:"item",label:j(),onClick:k(b.href,c)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuOpenFullConversation",["ix","cx","fbt","Bootloader","ChatConfig","CurrentUser","FantaDropdownMenuWebDriverTestIDs","Image.react","React","asset","goURI"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(){var a=b("CurrentUser").isWorkUser()?g("638041"):g("637928"),c=b("CurrentUser").isWorkUser()?i._("Open in Workplace Chat"):i._("Open in Messenger");return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").OPEN_FULL_CONVERSATION},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:a}):null,b("React").createElement("span",{className:"_6ng4"},c))}function k(a,c){return function(){b("goURI")(a),l(c)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.OPEN_FULL_CONVERSATION,a)},"FantaDropdownMenuOpenFullConversation")}function a(a,b){return a!==null&&a!==undefined?{type:"item",label:j(),onClick:k(a,b)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuPeopleList",["ix","cx","fbt","AsyncDialog","AsyncRequest","Bootloader","ChatConfig","FantaDropdownMenuWebDriverTestIDs","Image.react","MessengerAdminGroupUtils","MessengerState.bs","React","URI","immutable","MercuryThreadIDMap","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadIDMap").get();function k(a,c,d,e,f,h){return e&&!b("MessengerState.bs").isEmptyLocalThread(a,d)&&(!b("MessengerAdminGroupUtils").isAdminRequired(c)||f&&f.length>0||h&&h.size>0)?b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").PEOPLE_LIST},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637987")}):null,b("React").createElement("span",{className:"_6ng4"},i._("Members"))):null}function l(a,c,d,e,f,g,h){__p&&__p();return function(){__p&&__p();c&&(e&&e.length>0||f&&f.size>0)&&j.getServerIDFromClientID(d,function(c){b("Bootloader").loadModules(["MessengerDialogs.bs","ChatGroupMembershipDialog.react"],function(c,h){c.showDialog(function(){f&&(e=f.toList().toArray());if(d&&e){var i=b("MessengerState.bs").getThreadMetaNow(a,d),j=e&&e.filter(function(a){return i.participants.includes(a.id)});return b("React").createElement(h,{dialogShown:!0,membershipParticipants:g,onHide:c.removeAllDialogs,participants:j,thread:i,threadID:d})}return null})},"FantaDropdownMenuPeopleList")}),o(h)}}function m(a,c){return function(){j.getServerIDFromClientID(a,function(a){b("AsyncDialog").send(new(b("AsyncRequest"))(new(b("URI"))("/ajax/browser/dialog/multichat_members/").addQueryData({id:a})))}),o(c)}}function n(a,c,d,e,f,g,h){if(b("MessengerAdminGroupUtils").isAdminRequired(c))return l(a,c,d,e,f,g,h);else return m(d,h)}function o(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.PEOPLE_LIST,a)},"FantaDropdownMenuPeopleList")}function a(a,b,c,d,e,f,g,h){d=k(a,b,c,d,e,f);return d?{type:"item",label:d,onClick:n(a,b,c,e,f,g,h)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuPinConversation",["ix","cx","fbt","ChatConfig","Bootloader","ChatPinnedThreadsEntryPoint","Image.react","React","MercuryThreadActions","asset","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadActions").get();function k(a){return b("React").createElement("div",{className:"_6pdg"},b("ChatConfig").get("show_icons")?b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("647610")}):null,b("React").createElement("span",{className:"_6ng4"},a?i._("Unpin conversation"):i._("Pin conversation")))}function l(a,c,d){return function(){a&&a.is_pinned?j.unpin(c,b("ChatPinnedThreadsEntryPoint").CHAT_TAB_MENU):j.pin(c,b("ChatPinnedThreadsEntryPoint").CHAT_TAB_MENU),m(d)}}function m(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.PIN_CONVERSATION,a)},"FantaDropdownMenuPinConversation")}function a(a,c,d){var e=!!a&&a.is_pinned;return b("gkx")("AT5JVN5EFvOcbWXNXUiIQC28fl62U3k8LyTO0MldrOTPd6YqonWZITDV1Qrdjg7AiaJCWdBrX6zjzI-YMWBZCxaH")?{type:"item",label:k(e),onClick:l(a,c,d)}:null}e.exports={getMenuItem:a}}),null);
__d("MessengerP2BFRXUtils",["AsyncRequest","XRapidReportingDialogController"],(function(a,b,c,d,e,f){"use strict";a={openFRXDialog:function(a,c,d){if(a===null||a===undefined)return;c=JSON.stringify({reportable_ent_token:btoa("EntMessengerViewer1To1Thread:"+a),story_location:c,entry_point:d,responsible_id:a});d=b("XRapidReportingDialogController").getURIBuilder().setString("context",c).getURI();new(b("AsyncRequest"))(d).send()}};e.exports=a}),null);
__d("FantaDropdownMenuReport",["ix","cx","fbt","AsyncDialog","AsyncRequest","Bootloader","ChatConfig","CurrentUser","FantaDropdownMenuWebDriverTestIDs","FRXEntryPoint","Image.react","MercuryConfig","MercuryIDs","MessengerP2BFRXUtils","MessengerP2BFRXWWWConfig","NFXChatHeadGK","NFXStoryLocation","React","URI","XNFXStartForMessageThreadController","XRapidReportingDialogController","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c,d,e){var f=b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637966")}),h=e?i._("Report {page short name}",[i._param("page short name",e.short_name)]):i._("Report");h=b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").REPORT},b("ChatConfig").get("show_icons")?f:null,b("React").createElement("span",{className:"_6ng4"},h));f=b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").REPORT},b("ChatConfig").get("show_icons")?f:null,b("React").createElement("div",null,b("React").createElement("span",{className:"_6ng4"},i._("Something's wrong")),b("React").createElement("span",{className:"_6ng7"},i._("Give feedback and report conversation"))));if(e)return b("MessengerP2BFRXWWWConfig").frx_enabled?f:h;return!b("CurrentUser").isWorkUser()?a&&a.thread_fbid===null||b("MercuryIDs").isLocalThread(c)?h:d?b("MercuryConfig").EFRXG?f:null:b("MercuryConfig").EnableFRX?f:h:null}function k(a,c,d,e,f,g){__p&&__p();function a(){if(b("MessengerP2BFRXWWWConfig").frx_enabled){var a=b("MercuryIDs").getUserIDFromThreadID(d);b("MessengerP2BFRXUtils").openFRXDialog(a,b("NFXStoryLocation").MESSENGER_P2B_DIRECT_THREAD_DETAILS,b("FRXEntryPoint").REPORT_BUTTON)}else b("Bootloader").loadModules(["MessengerDialogs.bs","MNCommerceReportConversationDialog.react"],function(a,c){a.showDialog(function(){return b("React").createElement(c,{pageID:f&&f.fbid,onToggle:function(){return a.removeAllDialogs()}})})},"FantaDropdownMenuReport");l(g)}function h(){__p&&__p();var a=b("MercuryIDs").getUserIDFromThreadID(d);a=a?a:"";var c=btoa("EntMessengerViewer1To1Thread:"+a),f=b("NFXStoryLocation").MESSENGER_DIRECT_THREAD_DETAILS;if(e){var h=b("MercuryIDs").getThreadFBIDFromThreadID(d);c=btoa("EntMessengerViewerGroupThread:"+h);f=b("NFXStoryLocation").MESSENGER_GROUP_THREAD_DETAILS}h=JSON.stringify({reportable_ent_token:c,story_location:f,entry_point:b("FRXEntryPoint").REPORT_BUTTON,responsible_id:a});c=b("XRapidReportingDialogController").getURIBuilder().setString("context",h).getURI();new(b("AsyncRequest"))(c).send();l(g)}function i(){var a=b("MercuryIDs").getUserIDFromThreadID(d),c=new(b("URI"))("/ajax/chat/report.php").addQueryData({id:a}).addQueryData({src:"top_report_link"});b("NFXChatHeadGK").result&&(c=b("XNFXStartForMessageThreadController").getURIBuilder().setString("thread_fbid",a).setEnum("location","www_chat_head").getURI());b("AsyncDialog").send(new(b("AsyncRequest"))(c));l(g)}if(f)return a;return!b("CurrentUser").isWorkUser()?c&&c.thread_fbid===null||b("MercuryIDs").isLocalThread(d)?i:e?b("MercuryConfig").EFRXG?h:null:b("MercuryConfig").EnableFRX?h:i:null}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.REPORT,a)},"FantaDropdownMenuReport")}function a(a,b,c,d,e,f){var g=j(b,c,d,e);a=k(a,b,c,d,e,f);return a&&g?{type:"item",label:g,onClick:a}:null}e.exports={getMenuItem:a}}),null);
__d("SUIActionMenuUniform.fanta",["ix","cssVar","React","SUIGlyphIcon.react","asset","createBUITypeStyle"],(function(a,b,c,d,e,f,g,h){"use strict";a={backgroundColor:"#FFFFFF",borderColor:"rgba(0, 0, 0, 0.15)",descriptionTypeStyle:b("createBUITypeStyle")({color:"#8D949E",fontSize:"12px",fontWeight:"normal"}),disabledItemColor:"#BEC3C9",headerColor:"#606770",headerTypeStyle:b("createBUITypeStyle")({color:"#606770",fontSize:"12px",fontWeight:"bold"}),highlightedItemBackgroundColor:"#F2F3F5",highlightedItemColor:"#1C1E21",itemColor:"#1d2129",itemHeight:26,itemTypeStyle:b("createBUITypeStyle")({color:"#1d2129",fontSize:"12px",fontWeight:"600"}),submenuIndicatorLTR:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("496757")}),submenuIndicatorRTL:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("503180")})};e.exports=a}),null);
__d("SUIDropdownMenuUniform.fanta",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={borderRadius:3,boxShadow:"0 3px 8px rgba(0, 0, 0, 0.3)"};e.exports=a}),null);
__d("FantaDropdownMenu.react",["cssVar","cx","fbt","AutoFocusableLink.react","Bootloader","CustomizeThreadThemeUtil","DOMVector","FantaDropdownMenuAddFriends","FantaDropdownMenuBlock","FantaDropdownMenuBlockPageMessages","FantaDropdownMenuChangeColor","FantaDropdownMenuChangeEmoji","FantaDropdownMenuConversationName","FantaDropdownMenuCreateEvent","FantaDropdownMenuCreateGroup","FantaDropdownMenuDeleteConversation","FantaDropdownMenuEditNickname","FantaDropdownMenuFunnelState","FantaDropdownMenuIgnoreMessages","FantaDropdownMenuLeaveConversation","FantaDropdownMenuLeaveFeedback","FantaDropdownMenuMuteConversation","FantaDropdownMenuOpenFacebookPage","FantaDropdownMenuOpenFullConversation","FantaDropdownMenuPeopleList","FantaDropdownMenuPinConversation","FantaDropdownMenuReport","FantaDropdownMenuWebDriverTestIDs","M4IconSettings.bs","MercuryIDs","MessengerParticipants.bs","MessengerState.bs","React","ReactDOM","SUIActionMenuUniform.fanta","SUIDropdownMenu.react","SUIDropdownMenuUniform.fanta","SUITheme","TrackingNodes","Vector","gkx","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("CustomizeThreadThemeUtil").fetchThemes,l=b("M4IconSettings.bs").jsComponent,m=new(b("SUITheme"))({id:"FDSChatSettingsMenu",components:{SUIDropdownMenu:b("SUIDropdownMenuUniform.fanta"),SUIActionMenu:b("SUIActionMenuUniform.fanta")}});c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={menuItems:[],maxHeight:null},this.$9=function(){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(a,b){if(this.props.thread){var c=b.CHAT_TYPES.OTHER;this.props.isGroupChat?c=b.CHAT_TYPES.GROUP:this.props.isPageChat?c=b.CHAT_TYPES.PAGE:this.props.thread.is_canonical_user&&(c=b.CHAT_TYPES.CANONICAL);a.startFunnel(c,b.MENU_VERSIONS.M4_MENU,this.$2)}}.bind(this),"FantaDropdownMenu.react")}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=!0,this.setState({menuItems:this.$5()}),this.$6(),k(function(a){this.$1&&(this.$3=a,this.setState({menuItems:this.$5()}))}.bind(this)),this.$2=new(b("FantaDropdownMenuFunnelState"))()};a.prototype.componentWillUnmount=function(){this.$1=!1};a.prototype.componentDidUpdate=function(a){a.thread&&this.props.thread&&(a.thread.mute_until!==this.props.thread.mute_until||!b("immutable").is(a.thread.admins,this.props.thread.admins)||!b("immutable").is(a.thread.participants,this.props.thread.participants)||a.thread.custom_like_icon!==this.props.thread.custom_like_icon||a.thread.theme_id!==this.props.thread.theme_id||a.pageUser!==this.props.pageUser||a.thread.is_pinned!==this.props.thread.is_pinned)&&this.setState({menuItems:this.$5()})};a.prototype.$6=function(){var a=document.getElementById("bluebarRoot");a=a?b("Vector").getElementDimensions(a).y+12:null;var c=b("Vector").getElementPosition(b("ReactDOM").findDOMNode(this.$4)).y,d=b("DOMVector").getScrollPosition().y;c=c-(d+a);this.setState({maxHeight:c})};a.prototype.$7=function(a){var b=[];for(var c=0;c<a.length;c++)a[c]&&b.push(a[c]);return b};a.prototype.$8=function(){var a=b("MercuryIDs").getParticipantIDFromFromThreadID(this.props.threadID);a=a?b("MessengerParticipants.bs").getNow(a):null;return!!a&&!!a.is_business_enabled};a.prototype.$5=function(){__p&&__p();var a=this.props,c=a.hasBlockedMessages,d=a.isGroupChat,e=a.pageUser,f=a.thread,g=a.threadID;a=a.viewer;var h=this.$8(),i=b("FantaDropdownMenuOpenFullConversation").getMenuItem(this.props.uri,this.$2),j=b("FantaDropdownMenuOpenFacebookPage").getMenuItem(h,e,this.$2),k=b("FantaDropdownMenuChangeColor").getMenuItem(a,f,g,this.props.setShowCustomizedDialog,this.$3,this.$2),l=b("FantaDropdownMenuChangeEmoji").getMenuItem(a,f,g,this.props.setShowCustomizedDialog,this.$2),m=b("FantaDropdownMenuEditNickname").getMenuItem(a,g,this.$2),n=b("FantaDropdownMenuConversationName").getMenuItem(d,this.props.isNewMessageTab,f,g,a,this.$2),o=b("FantaDropdownMenuCreateGroup").getMenuItem(a,g,d,this.$2),p=b("FantaDropdownMenuCreateEvent").getMenuItem(f,d,this.$2),q=b("FantaDropdownMenuAddFriends").getMenuItem(a,f,g,this.props.isMultiCompany,d,this.props.isNewMessageTab,this.$2),r=b("FantaDropdownMenuPeopleList").getMenuItem(a,f,g,d,this.props.participants,this.props.participantsMap,this.props.membershipParticipants,this.$2),s=b("FantaDropdownMenuMuteConversation").getMenuItem(a,f,g,this.$2),t=b("FantaDropdownMenuPinConversation").getMenuItem(this.props.thread,this.props.threadID,this.$2),u=b("FantaDropdownMenuIgnoreMessages").getMenuItem(a,g,c,d,h,this.$2),v=b("FantaDropdownMenuLeaveConversation").getMenuItem(d,f,g,a,this.$2);c=b("FantaDropdownMenuBlock").getMenuItem(a,g,c,d,f,h,this.$2);var w=b("FantaDropdownMenuBlockPageMessages").getMenuItem(a,g,e,this.$2);a=b("FantaDropdownMenuReport").getMenuItem(a,f,g,d,e,this.$2);f=b("FantaDropdownMenuLeaveFeedback").getMenuItem(g,h,this.$2);d=b("FantaDropdownMenuDeleteConversation").getMenuItem(g,this.$2);e=[this.$7([i,j]),this.$7([k,l,m,n]),this.$7([q,r,o,p]),this.$7([s,t,u,v,c,w,f,a]),this.$7([d])].filter(function(a){return a.length>0});h=e.reduce(function(a,b){return a.concat(b,{type:"separator"})},[]);h.pop();return h};a.prototype.render=function(){var a=this.props,c=a.autoFocus,d=a.highlightNewMessage,e=a.isFocused;a=a.threadID;var f=i._("Options"),g=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.DROPDOWN_BUTTON),h=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,this.props.threadID);h=h&&h.header_color||"#0084ff";d=d?"#FFFFFF":e?h:"#bec2c9";return b("React").createElement(b("SUIDropdownMenu.react"),{button:b("React").createElement(b("AutoFocusableLink.react"),{autoFocus:c,"data-ft":g,"data-hover":"tooltip","aria-label":f,"data-tooltip-alignh":"center","data-tooltip-content":f,className:"button"+(b("MessengerState.bs").isNewEmptyLocalThread(this.props.viewer,a)?" hidden_elem":"")+(b("gkx")("AT4aq0gj3KFvuyn5ouzkcinNuxrDXZY6HPjnRXCVXzOigsSLEws96b2T0YYtUZg_IxPxKREPJvW4RS6GeFXjfiRr")?"":" _3olv")+(b("gkx")("AT4aq0gj3KFvuyn5ouzkcinNuxrDXZY6HPjnRXCVXzOigsSLEws96b2T0YYtUZg_IxPxKREPJvW4RS6GeFXjfiRr")?"":" _1ll-"),role:"button"},b("gkx")("AT4aq0gj3KFvuyn5ouzkcinNuxrDXZY6HPjnRXCVXzOigsSLEws96b2T0YYtUZg_IxPxKREPJvW4RS6GeFXjfiRr")?b("React").createElement(l,{filled:!0,color:d}):null),"data-testid":b("FantaDropdownMenuWebDriverTestIDs").FANTA_DROPDOWN_MENU_ICON,"data-menu-testid":b("FantaDropdownMenuWebDriverTestIDs").FANTA_DROPDOWN_MENU,dropdownWidth:230,items:this.state.menuItems,label:f,labelIsHidden:!0,maxHeight:this.state.maxHeight||600,onOpen:this.$9,ref:function(a){return this.$4=a}.bind(this),theme:m})};e.exports=a}),null);
__d("MNCommerceReviewDialogTextArea.react",["cx","AbstractTextArea.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=b("joinClasses")(this.props.className,"_3g_j");return b("React").createElement(b("AbstractTextArea.react"),babelHelpers["extends"]({},this.props,{className:a}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MNCommerceReviewDialog.react",["cx","fbt","MessengerEnvironment","MNCommerceButton.react","MNCommerceDetailsDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react","MNCommerceReviewDialogTextArea.react","React","StarsInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a,b){__p&&__p();i.constructor.call(this,a,b),this.onStarsChangeClick=function(a){var b=this.state.review;this.onTypeChange(a,b)}.bind(this),this.onReviewChange=function(a){var b=this.state.rating;this.onTypeChange(b,a.target.value)}.bind(this),this.$1=function(a){a=a||this.props;var b=a.rating;a=a.review;return{rating:b,review:a}}.bind(this),this.onTypeChange=function(a,b){this.setState({rating:a,review:b})}.bind(this),this.$3=function(a){a=this.props;a.onToggle(!1);if(!a.onConfirmButtonClick)return;var b=a.pageId;a.onConfirmButtonClick(b,this.state.rating,this.state.review)}.bind(this),this.state=this.$1()}a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.setState(this.$1(a))};a.prototype.render=function(){var a=this.props.merchantName||"",c=this.state.rating>0,d=this.props.review||"",e=this.state.review||"";e=this.state.rating!==this.props.rating||e.length!==d.length||e!==d;d=h._("Write a review for {label for merchant name}",[h._param("label for merchant name",a)]);a=h._("Cancel");var f=h._("Send"),g=h._("Review options couldn't be shown.");return b("React").createElement(b("MNCommerceDetailsDialog.react"),babelHelpers["extends"]({errorMessage:g,onToggle:this.props.onToggle,shown:this.props.shown},this.props),b("React").createElement(b("MNCommerceDialogTitle.react"),{showCloseButton:!0},d),b("React").createElement(b("MNCommerceDialogBody.react"),null,this.$2()),b("React").createElement(b("MNCommerceDialogFooter.react"),null,b("React").createElement(b("MNCommerceButton.react"),{label:a,onClick:this.props.onCancelButtonClick,use:"default"}),b("React").createElement(b("MNCommerceButton.react"),{label:f,onClick:this.$3,disabled:!c||!e,use:"confirm"})))};a.prototype.$2=function(){var a=b("MessengerEnvironment").messengerui,c=this.state.rating||0,d=this.state.review||"",e=(a?"_159y":"")+(a?"":" _159z");a=(a?"_15a3":"")+" _15a4";return b("React").createElement("div",null,b("React").createElement("div",{className:a}," Rate your experience"),b("React").createElement(b("StarsInput.react"),{allowMultipleSubmissions:!0,large:!0,onClick:this.onStarsChangeClick,count:c}),b("React").createElement(b("MNCommerceReviewDialogTextArea.react"),{className:e,defaultValue:d,onChange:this.onReviewChange,placeholder:"Write a review..."}))};a.propTypes={error:c.object,loading:c.bool.isRequired,rating:c.number,review:c.string,merchantName:c.string,onCancelButtonClick:c.func,onConfirmButtonClick:c.func.isRequired,pageId:c.string};e.exports=a}),null);
__d("MessengerPlatformBotReviewActions",["MessengerDispatcher","MNCommerceActionTypes"],(function(a,b,c,d,e,f){"use strict";a={stateLoaded:function(a){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").BOT_REVIEW_STATE.LOADED,state:a})},stateLoadError:function(a){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").BOT_REVIEW_STATE.LOAD_ERROR,pageID:a})},stateReload:function(a){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").BOT_REVIEW_STATE.RELOAD,pageID:a})}};e.exports=a}),null);
__d("XMessengerPlatformBotReviewReadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/platform/bot_review/read/",{page_id:{type:"FBID",required:!0}})}),null);
__d("MessengerPlatformBotReviewReadDataManager",["AsyncRequest","MessengerPlatformBotReviewActions","XMessengerPlatformBotReviewReadController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.fetchReviewState=function(a){a=b("XMessengerPlatformBotReviewReadController").getURIBuilder().setFBID("page_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(this.$1).setErrorHandler(this.$2).send()};a.prototype.$1=function(a){var c=a.getRequest().uri.getQueryData();c=c.page_id;a&&(a.payload.pageID=c);b("MessengerPlatformBotReviewActions").stateLoaded(a.payload)};a.prototype.$2=function(a){a=a.getRequest().uri.getQueryData();a=a.page_id;b("MessengerPlatformBotReviewActions").stateLoadError(a)};function a(){}e.exports=new a()}),null);
__d("MessengerPlatformBotReviewStore",["Cache","FluxStore","LoadObject","MessengerDispatcher","MessengerPlatformBotReviewReadDataManager","MNCommerceActionTypes","MNCommerceCacheTimeoutLimits"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("MessengerDispatcher")),this.$MessengerPlatformBotReviewStore1=new(b("Cache"))()}a.prototype.__onDispatch=function(a){__p&&__p();var c=a.type,d=a.pageID||a.state&&a.state.pageID;switch(c){case b("MNCommerceActionTypes").BOT_REVIEW_STATE.LOADED:c=a.state;this.$MessengerPlatformBotReviewStore1.set(d,b("LoadObject").empty().setValue(c),null,b("MNCommerceCacheTimeoutLimits").SUCCESS_TIMEOUT);this.__emitChange();break;case b("MNCommerceActionTypes").BOT_REVIEW_STATE.LOAD_ERROR:this.$MessengerPlatformBotReviewStore1.set(d,b("LoadObject").empty().setError(new Error("Unable to load permissions for: "+d)),null,b("MNCommerceCacheTimeoutLimits").ERROR_TIMEOUT);this.__emitChange();break;case b("MNCommerceActionTypes").BOT_REVIEW_STATE.RELOAD:d&&(this.$MessengerPlatformBotReviewStore1.set(d,b("LoadObject").loading()),b("MessengerPlatformBotReviewReadDataManager").fetchReviewState(d));this.__emitChange();break}};a.prototype.getReviewState=function(a){a&&!this.$MessengerPlatformBotReviewStore1.has(a)&&(this.$MessengerPlatformBotReviewStore1.set(a,b("LoadObject").loading().setValue({pageID:a})),b("MessengerPlatformBotReviewReadDataManager").fetchReviewState(a));return this.$MessengerPlatformBotReviewStore1.get(a)||b("LoadObject").empty()};a.__moduleID=e.id;e.exports=new a()}),null);
__d("MNCommerceReviewDialogContainer.react",["MessengerPlatformBotReviewStore","MNCommerceDialogStateActions","MNCommerceDialogStateStore","MNCommerceReviewDialog.react","PureStoreBasedStateMixin","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").createClass({displayName:"MNCommerceReviewDialogContainer",mixins:[b("PureStoreBasedStateMixin")(b("MessengerPlatformBotReviewStore"))],statics:{calculateState:function(){var a=b("MNCommerceDialogStateStore").getState(),c=null;a&&(c=a.pageID);var d=b("MessengerPlatformBotReviewStore").getReviewState(c);return{shown:!!a,loading:d.isLoading(),onConfirmButtonClick:a&&a.onConfirmButtonClick,pageID:c,reviewState:d.getValue(),error:d.getError()}}},render:function(){var a=this.state.reviewState;return b("React").createElement(b("MNCommerceReviewDialog.react"),{error:this.state.error,loading:this.state.loading,shown:this.state.shown,rating:a.rating,review:a.review,merchantName:a&&a.name,onCancelButtonClick:this._hideDialog,onConfirmButtonClick:this.state.onConfirmButtonClick,onToggle:this._onToggle,pageId:this.state.pageID})},_onToggle:function(a){a||this._hideDialog()},_hideDialog:function(){b("MNCommerceDialogStateActions").hideDialog()}});e.exports=a}),null);
__d("MNCommerceBotsReviewResponseDialog.react",["fbt","MessengerEnvironment","MNCommerceAttachmentConstants","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=b("MessengerEnvironment").messengerui?b("MNCommerceAttachmentConstants").MDOTCOMDIALOG.WIDTH:b("MNCommerceAttachmentConstants").DIALOG.WIDTH,c=this.props.success?g._("Thanks for your review!"):g._("Something went wrong"),d=this.props.success?g._("Your review has been successfully submitted."):g._("Please try again");return b("React").createElement(b("XUIDialog.react"),babelHelpers["extends"]({autohide:2e3,width:a},this.props),b("React").createElement(b("XUIDialogTitle.react"),null,c),b("React").createElement(b("XUIDialogBody.react"),null,b("React").createElement("div",null,d)))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MNCommerceBotsReviewConfirmationDialogContainer.react",["MNCommerceBotsReviewResponseDialog.react","MNCommerceDialogStateActions","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){a||this.$2()}.bind(this),this.$2=function(){b("MNCommerceDialogStateActions").hideDialog()},c}a.prototype.render=function(){return b("React").createElement(b("MNCommerceBotsReviewResponseDialog.react"),{success:!0,shown:!0,onToggle:this.$1})};e.exports=a}),null);
__d("MNCommerceBotsReviewErrorDialogContainer.react",["MNCommerceBotsReviewResponseDialog.react","MNCommerceDialogStateActions","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){a||this.$2()}.bind(this),this.$2=function(){b("MNCommerceDialogStateActions").hideDialog()},c}a.prototype.render=function(){return b("React").createElement(b("MNCommerceBotsReviewResponseDialog.react"),{success:!1,shown:!0,onToggle:this.$1})};e.exports=a}),null);
__d("XMessengerPlatformBotReviewWriteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/platform/bot_review/write/",{page_id:{type:"FBID",required:!0},rating:{type:"Int",required:!0},review:{type:"String"}})}),null);
__d("MessengerPlatformBotReviewWriteDataManager",["AsyncRequest","MessengerPlatformBotReviewActions","MNCommerceBotsReviewConfirmationDialogContainer.react","MNCommerceBotsReviewErrorDialogContainer.react","MNCommerceDialogStateActions","XMessengerPlatformBotReviewWriteController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.review=function(a,c,d){a=b("XMessengerPlatformBotReviewWriteController").getURIBuilder().setFBID("page_id",a).setInt("rating",c).setString("review",d).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(this.$1).setErrorHandler(this.$2).send()};a.prototype.$1=function(a){a=a.getRequest().uri.getQueryData();a=a.page_id;b("MessengerPlatformBotReviewActions").stateReload(a);b("MNCommerceDialogStateActions").showDialog(b("MNCommerceBotsReviewConfirmationDialogContainer.react"),{})};a.prototype.$2=function(a){a=a.getRequest().uri.getQueryData();a=a.page_id;b("MessengerPlatformBotReviewActions").stateLoadError(a);b("MNCommerceDialogStateActions").showDialog(b("MNCommerceBotsReviewErrorDialogContainer.react"),{})};function a(){}e.exports=new a()}),null);
__d("XMessagingGroupOptionsDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/dialog/group_options/",{thread_fbid:{type:"String",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("ChatTabMenu.react",["cssVar","cx","fbt","AsyncDialog","AsyncRequest","AutoFocusableLink.react","Bootloader","ChangeChatTabColorDialog","ChatConfig","ChatGroupMembershipDialog.react","ChatPinnedThreadsEntryPoint","ChatPrivacyActionController","ChatStartPlanDialogHelper","CurrentUser","CustomizeTabs","CustomizeThreadDialogGated.react","Dialog","EditChatTabNicknamesDialog","EventPlanUtils","EventRemindersGating","FantaDropdownMenu.react","FantaDropdownMenuFunnelLoggerConstants","FantaDropdownMenuFunnelState","FantaDropdownMenuWebDriverTestIDs","FantaMessageActions","FantaTabActions","FantaTabSheetActions","FRXEntryPoint","ImmutableObject","M4IconSettings.bs","MenuSeparator.react","MercuryConfig","MercuryIDs","MercuryLogMessageType","MercuryServerPayloadPreprocessor","MercurySourceType","MercuryThreadInfo","MercuryThreadMuter","MercuryViewer","MessageRequestUtils","MessagingTag","MessengerAddToConversationDialogReact.bs","MessengerAdminGroupUtils","MessengerConfig","MessengerDialogs.bs","MessengerMessageRequestsTypedLogger","MessengerP2BFRXUtils","MessengerP2BFRXWWWConfig","MessengerParticipants.bs","MessengerPlatformBotReviewWriteDataManager","MNCommerceDialogStateActions","MNCommercePromotionBlockDataManager","MNCommercePromotionManageBlockDialogContainer.react","MNCommerceReportConversationDialog.react","MNCommerceReviewDialogContainer.react","NFXChatHeadGK","NFXStoryLocation","PopoverMenu.react","React","ReactComponentWithPureRenderMixin","ReactDOM","ReactMenu","ShimButton.react","TrackingNodes","URI","WebMessengerConfirmBlockDialog","WebMessengerDeleteThreadDialog","WebMessengerThreadPermalinks","WorkFileUploadsGating","WorkModeConfig","XEventCreateDialogController","XGroupsCreateGroupGetDialogAsyncController","XMessagingGroupOptionsDialogController","XNFXStartForMessageThreadController","XRapidReportingDialogController","MercuryMessageObject","MercuryThreadActions","MercuryThreadIDMap","MercuryMessageActions","MessengerState.bs","getPageIDFromThreadID","goURI","gkx","isEmpty"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("CustomizeTabs").CustomizeTitleEnum,k=b("M4IconSettings.bs").jsComponent,l=b("MessengerAddToConversationDialogReact.bs").jsComponent,m=b("MercuryMessageObject").get(),n=b("MercuryThreadActions").get(),o=b("MercuryThreadIDMap").get(),p=b("MercuryMessageActions").get(),q=b("ReactMenu").Item;a=b("React").PropTypes;c=b("React").createClass({displayName:"ChatTabMenu",_privacyActionController:undefined,_funnelState:b("FantaDropdownMenuFunnelState"),linkRef:undefined,mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{autoFocus:a.bool,composer:a.object,hasBlockedMessages:a.bool.isRequired,highlightNewMessage:a.bool,isFocused:a.bool,isGroupChat:a.bool,isMultiCompany:a.bool,isPageChat:a.bool,membershipParticipants:a.object,participants:a.arrayOf(a.object),participantsMap:a.object,isNewMessageTab:a.bool,thread:a.object,threadID:a.string.isRequired,uri:a.string,viewer:a.string.isRequired},getInitialState:function(){return{defaultPageKey:j.COLOR,membersDialogShown:!1,muted:!1,privacyText:"",url:null,showCustomizedDialog:!1}},_isBusinessEnabled:function(){var a=this.props.threadID;a=b("MercuryIDs").getParticipantIDFromFromThreadID(a);a=a?b("MessengerParticipants.bs").getNow(a):null;return!!a&&!!a.is_business_enabled},componentDidMount:function(){var a=this.props.threadID;b("WebMessengerThreadPermalinks").getThreadURI(a,function(c){this.isMounted()&&!b("MercuryIDs").isLocalThread(a)&&this.setState({url:c})}.bind(this));this.props.isGroupChat||(this._privacyActionController=new(b("ChatPrivacyActionController"))(b("MercuryIDs").getUserIDFromThreadID(a),function(a){return this._updatePrivacyLink(a)}.bind(this)));this._funnelState=new(b("FantaDropdownMenuFunnelState"))()},componentWillUnmount:function(){this._privacyActionController&&this._privacyActionController.destroy()},_unmuteThread:function(){var a=this.props.threadID;n.unmute(a);this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.UNMUTE_CONVERSATION)},_togglePrivacyFunc:function(){this._privacyActionController&&this._privacyActionController.togglePrivacy(),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.TOGGLE_PRIVACY)},_renderFileUploader:function(){return b("React").createElement(q,{key:"fileUploader",className:"_37_x"},b("React").createElement(b("ShimButton.react"),{className:"_4q61 itemAnchor",inline:!0,onClick:function(){this.props.composer&&(b("FantaMessageActions").openUploadFilePicker(this.props.threadID,this.props.composer),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.UPLOAD_FILE))}.bind(this)},i._("Add Files...")))},_fullConversationRedirect:function(){b("goURI")(this.state.url),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.OPEN_FULL_CONVERSATION)},_renderOpenFullConversation:function(){if(this.state.url){var a=b("CurrentUser").isWorkUser()?i._("Open in Workplace Chat"):i._("Open in Messenger");return b("React").createElement(q,{key:"openFullMessenger",href:this.state.url,onclick:this._fullConversationRedirect},a)}return null},_renderAddFriend:function(){if(b("getPageIDFromThreadID")(this.props.threadID)||this.props.isMultiCompany&&!this.props.isGroupChat||this.props.isNewMessageTab)return null;var a=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,this.props.threadID),c=b("MessengerAdminGroupUtils").shouldInvite(a);a=b("MessengerAdminGroupUtils").isGroupChat(a);var d;b("WorkModeConfig").is_work_user?d=i._("Add colleagues to Chat..."):c?d=i._("Invite friends to chat..."):a?d=i._("Add Group Members to Chat..."):d=i._("Add Friends to Chat...");return b("React").createElement(q,{key:"addFriend",onclick:this._showAddFriend},d)},_showAddFriend:function(){var a=this.props.thread;a&&!a.is_canonical&&b("MessengerConfig").CTPOAPD?b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(l,{viewer:this.props.viewer,thread:a})}.bind(this)):b("FantaTabSheetActions").openAddMoreFriendsSheet(this.props.threadID);this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.ADD_FRIENDS)},_renderTogglePrivacy:function(){return!this.props.isGroupChat&&this.state.privacyText?b("React").createElement(q,{key:"togglePrivacy",onclick:this._togglePrivacyFunc},this.state.privacyText):null},_canEditNickname:function(){if(b("getPageIDFromThreadID")(this.props.threadID))return!1;var a=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,this.props.threadID),c=this.props.viewer;a=a&&a.participants&&c&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(a,c);return!!a},_renderEditNickname:function(){return!this._canEditNickname()?null:b("React").createElement(q,{key:"editNickname",onclick:this._showEditNicknameDialog},i._("Edit nicknames"))},_renderChangeColor:function(){if(b("getPageIDFromThreadID")(this.props.threadID))return null;var a=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,this.props.threadID),c=b("MercuryIDs").getUserIDFromParticipantID(b("MercuryViewer").getID());a=a&&c&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(a,c);c=b("gkx")("AT5P41pr7BDnjiOgbStpHA_i7Cn6sNmQTUBmLPCEePGMUzzc1H0XlI9pcb9hHfQ4BcDluF-cNEK1JTZw1H2bIykG")?i._("Customize Chat"):i._("Change colour...");return a&&b("ChatConfig").get("chat_tab_custom_color")?b("React").createElement(q,{key:"changeColor",onclick:this._showCustomColorDialog},c):null},_onUpdateMute:function(a,b){n.updateMuteSetting(a,b)},_renderMuteConversation:function(){var a=this.props,c=a.thread,d=a.threadID;a=!!c&&b("MercuryThreadInfo").isMuted(c);c=this.getPageUserIfExists();if(!a){a=function(){b("MercuryThreadMuter").showMuteChangeDialog.call(null,d,this.linkRef,this._onUpdateMute),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.MUTE_CONVERSATION)}.bind(this);return b("React").createElement(q,{key:"mute",onclick:a},c?i._("Mute notifications"):i._("Mute Conversation..."))}else return b("React").createElement(q,{key:"unmute",onclick:this._unmuteThread},c?i._("Unmute notifications"):i._("Unmute Conversation"))},_renderPinConversation:function(){var a=function(){this.props.thread&&this.props.thread.is_pinned?n.unpin(this.props.threadID,b("ChatPinnedThreadsEntryPoint").CHAT_TAB_MENU):n.pin(this.props.threadID,b("ChatPinnedThreadsEntryPoint").CHAT_TAB_MENU),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.PIN_CONVERSATION)}.bind(this);return b("React").createElement(q,{key:"pin",onclick:a},this.props.thread&&this.props.thread.is_pinned?i._("Unpin conversation..."):i._("Pin conversation..."))},_renderDeleteConversation:function(){return b("React").createElement(q,{key:"delete",onclick:this._deleteConversation},i._("Delete Conversation..."))},_renderReportSpam:function(){__p&&__p();var a=b("getPageIDFromThreadID")(this.props.threadID),c=i._("Report..."),d=i._("Something's wrong");if(a)return b("MessengerP2BFRXWWWConfig").frx_enabled?b("React").createElement(q,{key:"FRXReportSpam",onclick:this._reportPageClicked},d):b("React").createElement(q,{key:"reportSpam",onclick:this._reportPageClicked},c);a=b("React").createElement(q,{key:"FRXReportSpam",onclick:this._FRXReportSpamClicked},d);d=b("React").createElement(q,{key:"reportSpam",onclick:this._reportSpamClicked},c);c=this.props.thread;if(b("CurrentUser").isWorkUser())return null;if(c&&c.thread_fbid===null||b("MercuryIDs").isLocalThread(this.props.threadID))return d;if(this.props.isGroupChat)return b("MercuryConfig").EFRXG?a:null;else return b("MercuryConfig").EnableFRX?a:d},_manageMessagesItem:function(){return this._isBusinessEnabled()?b("React").createElement(q,{key:"manageMessages",onclick:this._messageManageClicked},i._("Manage Messages...")):null},_manageReviewItem:function(){return!this._isBusinessEnabled()?null:b("React").createElement(q,{key:"manageReivew",onclick:this._reviewClicked},i._("Leave feedback"))},getPageUserIfExists:function(){var a=this.props.participants,c=this.props,d=c.isPageChat,e=c.threadID;c=c.participantsMap;var f=b("MercuryIDs").getUserIDFromThreadID(e);c&&(a=c.toList().toArray());return!d||!f||!a||b("isEmpty")(a)?null:a.find(function(a){return a.fbid===f})},_onBlockPageActionClick:function(){if(!this.props.threadID)return;var a=this.getPageUserIfExists();if(!a)return;a=a.is_messenger_blocked;a?(n.unblockOnMessengerDotCom(this.props.threadID),this._updatePageBlocked(!1)):(n.blockOnMessengerDotCom(this.props.threadID),this._updatePageBlocked(!0))},_updatePageBlocked:function(a){__p&&__p();var c=this.props,d=c.isPageChat;c=c.threadID;c=b("MercuryIDs").getUserIDFromThreadID(c);if(!d||!c)return;d=this.getPageUserIfExists();if(!d)return;d=b("MercuryIDs").getParticipantIDFromUserID(c);c=b("MessengerParticipants.bs").getNow(d);if(c){c=b("ImmutableObject").set(c,{is_messenger_blocked:a});d={participants:[c]};b("MercuryServerPayloadPreprocessor").getForFBID(this.props.viewer).handleUpdate(d);this._logItemClick(a?b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.BLOCK_PAGE_MESSAGES:b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.UNBLOCK_PAGE_MESSAGES)}},_blockPageMessagesItem:function(){if(b("CurrentUser").isWorkUser())return null;var a=this.getPageUserIfExists();if(!a)return null;a=a.is_messenger_blocked;var c=i._("Turn off messages"),d=i._("Turn on messages");a=a?d:c;return b("React").createElement(q,{key:"blockPage",onClick:this._onBlockPageActionClick},a)},_blockMessagesItem:function(){__p&&__p();var a=this.props,c=a.hasBlockedMessages,d=a.isGroupChat,e=a.threadID;a=a.thread;e=b("MercuryIDs").getUserIDFromThreadID(e);var f=this._isBusinessEnabled();a=a&&a.message_count===0;if(f||e&&e===this.props.viewer)return null;if(!d&&!c&&!a&&!b("CurrentUser").isWorkUser())return b("React").createElement(q,{key:"blockMessages",onclick:this._messageBlockedClicked},i._("Block Messages..."));return!d&&c?b("React").createElement(q,{key:"unblockMessage",onclick:this._messageUnblockedClicked},i._("Unblock Messages...")):null},_ignoreMessagesItem:function(){var a=this.props,c=a.hasBlockedMessages;a=a.threadID;a=b("MercuryIDs").getUserIDFromThreadID(a);return this._isBusinessEnabled()||a&&a===this.props.viewer||c||b("CurrentUser").isWorkUser()?null:b("React").createElement(q,{key:"ignore",onclick:this._messageIgnoreClicked},i._("Ignore messages..."))},_renderCreateGroup:function(){return this.props.isGroupChat?b("React").createElement(q,{key:"createGroup",onclick:this._createGroupClicked},i._("Create Group")):null},_renderCreateEvent:function(){return this.props.isGroupChat?b("React").createElement(q,{key:"createEvent",onclick:this._createEventClicked},i._("Create Event")):null},_renderCreatePlan:function(){if(b("EventPlanUtils").isAllowedtoStartPlanWithRecipients(this.props.threadID)){var a=b("EventRemindersGating").shouldUseNewName?i._("Start plan"):i._("Create reminder");return b("React").createElement(q,{key:"eventPlan",onclick:this._onEventPlanButtonClicked},a)}return null},_renderConversationName:function(){var a=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,this.props.threadID),c=b("MercuryIDs").getUserIDFromParticipantID(b("MercuryViewer").getID());a=a&&c&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(a,c)&&this.props.isGroupChat&&!b("MessengerState.bs").isEmptyLocalThread(this.props.viewer,this.props.threadID)&&!this.props.isNewMessageTab;return a?b("React").createElement(q,{key:"conversationName",onclick:this._openNameConversation},i._("Edit Conversation Name")):null},_openNameConversation:function(){b("FantaTabSheetActions").openNameConversationSheet(this.props.threadID),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.CONVERSATION_NAME)},_renderLeaveConversation:function(){return this.props.isGroupChat?b("React").createElement(q,{key:"leave",onclick:this._unsubscribeLinkClicked},i._("Leave Conversation...")):null},_openMembersDialog:function(){o.getServerIDFromClientID(this.props.threadID,function(a){b("MessengerDialogs.bs").showDialog(function(){var c=a&&b("MercuryIDs").getThreadIDFromThreadFBID(a),d=this.props.participants,e=this.props.participantsMap;e&&(d=e.toList().toArray());return c&&d?b("React").createElement(b("ChatGroupMembershipDialog.react"),{dialogShown:!0,membershipParticipants:this.props.membershipParticipants,onHide:this._onHideMembersDialog,participants:d,thread:this.props.thread,threadID:c}):null}.bind(this)),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.PEOPLE_LIST)}.bind(this))},_onHideMembersDialog:function(){b("MessengerDialogs.bs").removeAllDialogs()},_renderPeopleList:function(){if(this.props.isGroupChat&&!b("MessengerState.bs").isEmptyLocalThread(this.props.viewer,this.props.threadID)){var a=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,this.props.threadID);if(b("MessengerAdminGroupUtils").isAdminRequired(a)){if(this.props.participants&&this.props.participants.length>0||this.props.participantsMap&&this.props.participantsMap.size>0)return b("React").createElement(q,{key:"members",onclick:this._openMembersDialog},i._("Members..."))}else return b("React").createElement(q,{key:"members",onclick:this._showParticipants},i._("Edit Participants..."))}return null},_renderGroupOptions:function(){var a=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,this.props.threadID),c=b("MercuryIDs").getUserIDFromParticipantID(b("MercuryViewer").getID());return a&&c&&this.props.isGroupChat&&b("MessengerAdminGroupUtils").canSeeJoinableGroupOptions(a,this.props.viewer)?b("React").createElement(q,{key:"groupOptions",onclick:this._showGroupOptions},i._("View Group Options")):null},_renderToggleSecretMode:function(){return this.props.hasSecretModeOn?b("React").createElement(q,{key:"secretMode",onclick:this._secretModeTurnOff},i._("Turn off disappearing messages")):null},_showMenuItems:function(){var a=this.props.thread;return!!a&&b("MercuryThreadInfo").showComposer(a)&&!b("isEmpty")(a.participants)&&!b("MessageRequestUtils").isMessageRequest(a)&&!b("MercuryConfig").ViewerIsReadOnly&&!(b("MercuryConfig").ColdOpenBlock&&(b("MercuryThreadInfo").isColdOpen(a)||b("MercuryThreadInfo").isEmptyLocalThread(a)))&&!(this.props.isPageChat&&a.message_count===0)},_renderMenuItems:function(){__p&&__p();var a=b("gkx")("AT6MJjghtf-uvoIi5M722VONKqFRBHBSnMD8qt980ioxXTNy2DTVRFp69gZkdlRaIJSK5YtzN81MxfTYpiEI66xk")&&!b("CurrentUser").isWorkUser(),c=b("gkx")("AT6A1bnDK2h8UfK21QtwMasCKSCRuJLNl1CkXiFlb4ngyuzOTwnMPylW45yiU1EwI4xsY2mbtMRkoGbbra-xak0V"),d=this._renderReportSpam(),e=this._blockMessagesItem(),f=this._ignoreMessagesItem(),g=this._manageMessagesItem(),h=this._manageReviewItem(),i=this._renderCreateGroup(),j=this._renderCreateEvent(),k=this._renderGroupOptions(),l=this._blockPageMessagesItem(),m=this._renderToggleSecretMode(),n=this._renderTogglePrivacy(),o=this._renderConversationName(),p=this._renderPeopleList(),q=this._renderEditNickname(),r=this._renderChangeColor(),s=this._renderMuteConversation(),t=this._renderDeleteConversation(),u=this._renderLeaveConversation(),v=a&&c?null:this._renderCreatePlan(),w=!a&&b("WorkFileUploadsGating").canUploadFiles?this._renderFileUploader():null;c=a&&!c?null:this._renderAddFriend();a=a?null:this._renderOpenFullConversation();var x=b("gkx")("AT5JVN5EFvOcbWXNXUiIQC28fl62U3k8LyTO0MldrOTPd6YqonWZITDV1Qrdjg7AiaJCWdBrX6zjzI-YMWBZCxaH")?this._renderPinConversation():null;x=[x,a,o,p,k,c,q,r].filter(function(a){return!!a});a=[s,m,t,f,l,e,u,n,g,h,d].filter(function(a){return!!a});o=[w,v,i,j].filter(function(a){return!!a});p=[x,a,o].filter(function(a){return a.length>0});k=p.reduce(function(a,c,d){a.length>0&&a.push(b("React").createElement(b("MenuSeparator.react"),{key:"separator"+d}));return a.concat(c)},[]);return b("React").createElement(b("ReactMenu"),{className:"chatReact"+(this._showMenuItems()?"":" hidden_elem")},k)},_logEnterMenu:function(){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger"],function(a){if(this.props.thread){var c=b("FantaDropdownMenuFunnelLoggerConstants").CHAT_TYPES.OTHER;this.props.isGroupChat?c=b("FantaDropdownMenuFunnelLoggerConstants").CHAT_TYPES.GROUP:this.props.isPageChat?c=b("FantaDropdownMenuFunnelLoggerConstants").CHAT_TYPES.PAGE:this.props.thread.is_canonical_user&&(c=b("FantaDropdownMenuFunnelLoggerConstants").CHAT_TYPES.CANONICAL);a.startFunnel(c,b("FantaDropdownMenuFunnelLoggerConstants").MENU_VERSIONS.M3_MENU,this._funnelState)}}.bind(this),"ChatTabMenu.react")},_logItemClick:function(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger"],function(b){b.logMenuItem(a,this._funnelState)}.bind(this),"ChatTabMenu.react")},setShowCustomizedDialog:function(a){this.setState({showCustomizedDialog:!0,defaultPageKey:a})},render:function(){var a=this.props,c=a.autoFocus,d=a.highlightNewMessage,e=a.isFocused,f=a.threadID;a=a.viewer;var g=i._("Options"),h=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.DROPDOWN_BUTTON),j=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,this.props.threadID),l=j&&j.header_color||"#0084ff";l=d?"#FFFFFF":e?l:"#bec2c9";return!this._showMenuItems()?null:b("React").createElement(b("React").Fragment,null,b("gkx")("AT5P41pr7BDnjiOgbStpHA_i7Cn6sNmQTUBmLPCEePGMUzzc1H0XlI9pcb9hHfQ4BcDluF-cNEK1JTZw1H2bIykG")&&b("React").createElement(b("CustomizeThreadDialogGated.react"),{defaultPageKey:this.state.defaultPageKey,show:this.state.showCustomizedDialog,onHide:this._hideCustomizeDialog,thread:j,threadID:this.props.threadID}),b("gkx")("AT417dOGe7aGDLtcheTa-zXtnYIz1OzLTyQEr5Ejs6FqQXTBA_7XZz9q2vP_BfbqpQ5fVIh2rYwYbokx0UD7uyjE")?b("React").createElement(b("FantaDropdownMenu.react"),{autoFocus:c,hasBlockedMessages:this.props.hasBlockedMessages,highlightNewMessage:d,isFocused:e,isGroupChat:this.props.isGroupChat,isMultiCompany:this.props.isMultiCompany,isNewMessageTab:this.props.isNewMessageTab,isPageChat:this.props.isPageChat,membershipParticipants:this.props.membershipParticipants,pageUser:this.getPageUserIfExists(),participants:this.props.participants,participantsMap:this.props.participantsMap,setShowCustomizedDialog:this.setShowCustomizedDialog,thread:j,threadID:f,uri:this.props.uri,viewer:a}):b("React").createElement(b("PopoverMenu.react"),{menu:this._renderMenuItems(),ref:"menu"},b("React").createElement(b("AutoFocusableLink.react"),{autoFocus:c,"data-ft":h,"data-hover":"tooltip","aria-label":g,"data-tooltip-alignh":"center","data-tooltip-content":g,"data-testid":b("FantaDropdownMenuWebDriverTestIDs").FANTA_DROPDOWN_MENU_ICON,className:"button"+(b("MessengerState.bs").isNewEmptyLocalThread(this.props.viewer,f)?" hidden_elem":"")+(b("gkx")("AT4aq0gj3KFvuyn5ouzkcinNuxrDXZY6HPjnRXCVXzOigsSLEws96b2T0YYtUZg_IxPxKREPJvW4RS6GeFXjfiRr")?"":" _3olv")+(b("gkx")("AT4aq0gj3KFvuyn5ouzkcinNuxrDXZY6HPjnRXCVXzOigsSLEws96b2T0YYtUZg_IxPxKREPJvW4RS6GeFXjfiRr")?"":" _1ll-"),onClick:this._logEnterMenu,ref:function(a){return this.linkRef=b("ReactDOM").findDOMNode(a)}.bind(this),role:"button"},b("gkx")("AT4aq0gj3KFvuyn5ouzkcinNuxrDXZY6HPjnRXCVXzOigsSLEws96b2T0YYtUZg_IxPxKREPJvW4RS6GeFXjfiRr")?b("React").createElement(k,{filled:!0,color:l}):null)))},_hideCustomizeDialog:function(){this.setState({showCustomizedDialog:!1})},_updatePrivacyLink:function(a){__p&&__p();var c=this.props,d=c.isGroupChat;c=c.threadID;c=b("MercuryIDs").getUserIDFromThreadID(c);var e;if(a==b("ChatPrivacyActionController").OFFLINE){e=i._("Go online");this.setState({privacyText:e});return}if(d||!!c)return;if(c){d=b("MercuryIDs").getParticipantIDFromUserID(c);b("MessengerParticipants.bs").get(d,function(c){!c.is_friend?e=null:a==b("ChatPrivacyActionController").BLOCKED?e=i._("Turn on Chat for {name}",[i._param("name",c.short_name)]):b("gkx")("AT6XJNxwV6KaJzyxn6EDe3Tm_qRFKRqe2qkOS_4ZLz8D2JxuLFBXYKOl65GgbN3cStXtdJ_4PUESVZvXZJiurCDl")?e="":e=i._("Turn off Chat for {name}",[i._param("name",c.short_name)]),this.setState({privacyText:e})}.bind(this))}},_showEditNicknameDialog:function(){if(b("MessengerState.bs").isEmptyLocalThread(this.props.viewer,this.props.threadID))return;var a=b("MercuryIDs").getUserIDFromParticipantID(b("MercuryViewer").getID());a&&(b("EditChatTabNicknamesDialog").show(b("MessengerState.bs").getThreadMetaNow(this.props.viewer,this.props.threadID),a,this.linkRef),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.EDIT_NICKNAME))},_showCustomColorDialog:function(){if(b("MessengerState.bs").isEmptyLocalThread(this.props.viewer,this.props.threadID))return;b("MessengerState.bs").getThreadMeta(this.props.viewer,this.props.threadID,function(a){b("gkx")("AT5P41pr7BDnjiOgbStpHA_i7Cn6sNmQTUBmLPCEePGMUzzc1H0XlI9pcb9hHfQ4BcDluF-cNEK1JTZw1H2bIykG")?this.setState({showCustomizedDialog:!0}):b("ChangeChatTabColorDialog").show(a,this.linkRef),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.CHANGE_COLOR)}.bind(this),null)},_showParticipants:function(){o.getServerIDFromClientID(this.props.threadID,function(a){b("AsyncDialog").send(new(b("AsyncRequest"))(new(b("URI"))("/ajax/browser/dialog/multichat_members/").addQueryData({id:a})))}),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.PEOPLE_LIST)},_unsubscribeLinkClicked:function(){var a=[];a.push({name:"unsubscribe",label:i._("Leave Conversation"),handler:function(){return this._unsubscribeToThread()}.bind(this)});a.push(b("Dialog").CANCEL);var c;b("MessengerState.bs").getThreadMeta(this.props.viewer,this.props.threadID,function(a){a.admins&&a.admins[b("MercuryViewer").getID()]!==undefined?c=i._("Leaving this group will remove you as an owner and allow other members to manage the group. You will no longer be able to send and receive messages."):c=i._("You will stop receiving messages from this conversation and people will see that you left.")},null);new(b("Dialog"))().setTitle(i._("Leave conversation?")).setBody(c).setButtons(a).show();this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.LEAVE_CONVERSATION)},_unsubscribeToThread:function(){if(!b("MessengerState.bs").isEmptyLocalThread(this.props.viewer,this.props.threadID)){var a=m.constructLogMessageObject(b("MercurySourceType").CHAT_WEB,this.props.threadID,b("MercuryLogMessageType").UNSUBSCRIBE,{removed_participants:[b("MercuryViewer").getID()]});p.send(a)}b("FantaTabActions").closeTab(this.props.threadID);return!0},_deleteConversation:function(){b("WebMessengerDeleteThreadDialog").show(this.props.threadID,function(){return b("FantaTabActions").deleteTab(this.props.threadID)}.bind(this),null,this.linkRef),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.DELETE_CONVERSATION)},_reportSpamClicked:function(){var a=this.props.threadID;a=b("MercuryIDs").getUserIDFromThreadID(a);var c=new(b("URI"))("/ajax/chat/report.php").addQueryData({id:a}).addQueryData({src:"top_report_link"});b("NFXChatHeadGK").result&&(c=b("XNFXStartForMessageThreadController").getURIBuilder().setString("thread_fbid",a).setEnum("location","www_chat_head").getURI());b("AsyncDialog").send(new(b("AsyncRequest"))(c));this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.REPORT)},_FRXReportSpamClicked:function(){__p&&__p();var a=b("MercuryIDs").getUserIDFromThreadID(this.props.threadID);a=a?a:"";var c=btoa("EntMessengerViewer1To1Thread:"+a),d=b("NFXStoryLocation").MESSENGER_DIRECT_THREAD_DETAILS;if(this.props.isGroupChat){var e=b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID);c=btoa("EntMessengerViewerGroupThread:"+e);d=b("NFXStoryLocation").MESSENGER_GROUP_THREAD_DETAILS}e=JSON.stringify({reportable_ent_token:c,story_location:d,entry_point:b("FRXEntryPoint").REPORT_BUTTON,responsible_id:a});c=b("XRapidReportingDialogController").getURIBuilder().setString("context",e).getURI();new(b("AsyncRequest"))(c).send();this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.REPORT)},_reportPageClicked:function(){__p&&__p();if(b("MessengerP2BFRXWWWConfig").frx_enabled){var a=b("MercuryIDs").getUserIDFromThreadID(this.props.threadID);b("MessengerP2BFRXUtils").openFRXDialog(a,b("NFXStoryLocation").MESSENGER_P2B_DIRECT_THREAD_DETAILS,b("FRXEntryPoint").REPORT_BUTTON)}else{var c=b("getPageIDFromThreadID")(this.props.threadID);b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(b("MNCommerceReportConversationDialog.react"),{pageID:c,onToggle:function(){return b("MessengerDialogs.bs").removeAllDialogs()}})})}this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.REPORT)},_messageBlockedClicked:function(){n.blockMessages(this.props.threadID,this._handleAfterBlock),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.BLOCK)},_handleAfterBlock:function(){b("WebMessengerConfirmBlockDialog").show();var a=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.threadID,this.props.viewer);n.changeFolder(this.props.threadID,b("MessagingTag").OTHER);b("FantaTabActions").closeTab(this.props.threadID);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID)).setSurface("thread").setFolderType(b("MessagingTag").INBOX).setThreadKey(a).setEntryPoint(null).log()},_messageManageClicked:function(){var a=function(a,c){return b("MNCommercePromotionBlockDataManager").block(a,c)},c=b("MercuryIDs").getUserIDFromThreadID(this.props.threadID);b("MNCommerceDialogStateActions").showDialog(b("MNCommercePromotionManageBlockDialogContainer.react"),{pageID:c,onConfirmButtonClick:a});this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.MANAGE_MESSAGES)},_messageIgnoreClicked:function(){n.ignoreMessages(this.props.isGroupChat?b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID):b("MercuryIDs").getUserIDFromThreadID(this.props.threadID)),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.IGNORE_MESSAGES)},_reviewClicked:function(){var a=function(a,c,d){if(c===0)return;b("MessengerPlatformBotReviewWriteDataManager").review(a,c,d.trim())},c=b("MercuryIDs").getUserIDFromThreadID(this.props.threadID);b("MNCommerceDialogStateActions").showDialog(b("MNCommerceReviewDialogContainer.react"),{pageID:c,onConfirmButtonClick:a});this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.LEAVE_FEEDBACK)},_messageUnblockedClicked:function(){n.unblockMessages(this.props.threadID),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.UNBLOCK)},_secretModeTurnOff:function(){n.turnOffSecretMode(this.props.threadID),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.SECRET_MODE_OFF)},_secretModeTurnOn:function(){n.turnOnSecretMode(this.props.threadID),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.SECRET_MODE_ON)},_showGroupOptions:function(){b("MessengerState.bs").getThreadMeta(this.props.viewer,this.props.threadID,function(a){if(!a.is_canonical){a=b("XMessagingGroupOptionsDialogController").getURIBuilder().setString("thread_fbid",a.thread_fbid).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a));this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.GROUP_OPTIONS)}}.bind(this),null)},_createGroupClicked:function(){__p&&__p();b("MessengerState.bs").getThreadMeta(this.props.viewer,this.props.threadID,function(a){__p&&__p();if(!a.is_canonical){var c=b("XGroupsCreateGroupGetDialogAsyncController").getURIBuilder().setString("ref","web_messenger_dock"),d=a.participants.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)}).filter(function(a){return a});c.setFBIDKeyset("members",d);a.name&&c.setString("name",a.name);d=c.getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(d));this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.CREATE_GROUP)}}.bind(this),null)},_createEventClicked:function(){b("MessengerState.bs").getThreadMeta(this.props.viewer,this.props.threadID,function(a){if(!a.is_canonical){a=a.participants.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)}).filter(function(a){return a});a=b("XEventCreateDialogController").getURIBuilder().setString("acontext",JSON.stringify({})).setIntVector("invite_ids",a).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a));this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.CREATE_EVENT)}}.bind(this),null)},open:function(){this.refs.menu.showPopover()},_onEventPlanButtonClicked:function(){b("ChatStartPlanDialogHelper").showDialog(this.props.threadID),this._logItemClick(b("FantaDropdownMenuFunnelLoggerConstants").OPTIONS.CREATE_PLAN)}});e.exports=c}),null);